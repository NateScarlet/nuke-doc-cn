<!DOCTYPE html>
<html data-mc-help-system-file-name="Default.xml" data-mc-in-preview-mode="false" data-mc-path-to-help-system="../../" data-mc-preload-images="false" data-mc-runtime-file-type="Topic" data-mc-search-type="Stem" data-mc-target-type="WebHelp2" data-mc-toc-path="Tutorials|Video Tutorials|Compositing with Nuke" lang="en-us" xml:lang="en-us" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
 <head>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   平面跟踪
  </title>
  <link href="../../skins/default/stylesheets/Slideshow.css" rel="stylesheet"/>
  <link href="../../skins/default/stylesheets/TextEffects.css" rel="stylesheet"/>
  <link href="../../skins/default/stylesheets/Topic.css" rel="stylesheet"/>
  <link href="../../skins/default/stylesheets/components/styles.css" rel="stylesheet"/>
  <link href="../../skins/default/stylesheets/components/tablet.css" rel="stylesheet"/>
  <link href="../../skins/default/stylesheets/components/mobile.css" rel="stylesheet"/>
  <link href="../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet"/>
  <script src="../../Resources/Scripts/custom.modernizr.js">
  </script>
  <script src="../../Resources/Scripts/jquery.min.js">
  </script>
  <script src="../../Resources/Scripts/require.min.js">
  </script>
  <script src="../../Resources/Scripts/require.config.js">
  </script>
  <script src="../../Resources/Scripts/foundation.min.js">
  </script>
  <script src="../../Resources/Scripts/plugins.min.js">
  </script>
  <script src="../../Resources/Scripts/MadCapAll.js">
  </script>
  <script src="../assets/stylesheets/load.js">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop">
   <a href="../../Default.html#tutorials/planar_tracking.html">
    用导航打开主题
   </a>
  </p>
  <script>
   /* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */
  </script>
  <div class="nocontent">
   <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-count="3" data-mc-breadcrumbs-divider=" &gt; " data-mc-toc="True">
    <span class="MCBreadcrumbsPrefix">
     你在这里:
    </span>
   </div>
  </div>
  <h2>
   平面跟踪
  </h2>
  <div class="MCDropDown MCDropDown_Open dropDown">
   <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     NukeX 6.3-PlanarTracker: 介绍
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
    <iframe allowfullscreen="" frameborder="0" height="256" mozallowfullscreen="" src="https://player.vimeo.com/video/26434226?color=f9b41b;byline=0;portrait=0" webkitallowfullscreen="" width="500">
    </iframe>
    <p>
     <a href="https://vimeo.com/26434226" target="_blank">
      平面跟踪器教程简介
     </a>
     从
     <a href="https://vimeo.com/thefoundry" target="_blank">
      铸造
     </a>
     上
     <a href="https://vimeo.com/" target="_blank">
      Vimeo
     </a>
     .
    </p>
    <div class="MCDropDown MCDropDown_Open dropDown">
     <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented">
      <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
       <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
       <span class="Master_VariablesTranscribedContent">
        转录
       </span>
      </a>
     </span>
     <div class="MCDropDownBody dropDownBody">
      <p>
       你好，我的名字是丹 · 林，在本教程中，我将向你展示如何使用 Nuke 6.3 中发现的新 PlanarTracker。我将首先演示创建平面轨道有多快速和容易，然后介绍平面跟踪器的一些基础知识。在这张照片中，我们想在这里跟踪这篇文章的顶部。我们从从创建 PlanarTracker 开始
       <b>
        变换
       </b>
       菜单。一旦它被创建，我们就可以直接开始绘制我们想要跟踪的区域。当我们完成后，我们可以点击轨道向前按钮，看着它跟踪到拍摄结束。在跟踪的时候，让我告诉你更多关于 PlanarTracker 的信息。
      </p>
      <p>
       PlanarTracker 跟随平面，其中曲面上的大多数点位于同一平面上。像墙壁、天花板和汽车侧面这样的东西是平面表面的好例子，但是它也可以处理非平面表面，比如面或人 -- 一般来说, 表面越平面越好。我们的跟踪器使用基于特征的跟踪; 它试图找到与用户绘制的平面一致的最佳轨迹，并从这些轨迹中导出平面轨迹。重要的是要记住，平面跟踪跟踪区域，而不是小图像块。这意味着与传统的 2D 模式跟踪器相比，您可以获得更稳定和准确的跟踪。例如，对于插入图像和设置扩展等事情，使用平面跟踪器几乎总是更快、更容易，而不是相机解算中的某种投影。
      </p>
      <p>
       对，所以跟踪完成了，如果我们在时间线上来回移动，我们可以看到它做得非常好。那个跟踪器已经可以使用了，但是首先让我们看看发生了什么。当我们创建 PlanarTracker 时，你会注意到它也创建了一个 Roto 节点，这是为了允许平面跟踪与 Roto 的非常紧密的集成。事实上，旋转节点对于 PlanarTracker 的工作至关重要，所以总是努力保持它们的连接。如果我们查看 Roto 节点内部，我们将看到一个
       <b>
        PlanarTrackLayer
       </b>
       在曲线菜单中。这是一种特殊类型的菜单，用于定义正在跟踪的内容。在我们的例子中，我们为柱子的顶部画了一个形状。请注意，形状轮廓是紫色的，以指示它在轨迹层中，并将用于定义区域。如果我们愿意，我们可以在这个层中绘制更多的形状，这将有助于相同的轨道。我将重命名此层
       <b>
        邮政
       </b>
       。PlanarTrackerLayer 也是轨道结果保存到的地方。具体来说，它们是在
       <b>
        额外矩阵
       </b>
       层的旋钮。这意味着我们放在层中的任何东西都会受到轨道的影响。当 Roto 或 RotoPaint 节点具有 PlanarTrackLayer 时，跟踪工具栏现在显示在查看器中。这是一个上下文相关的工具栏，允许您从左到右执行整个跟踪工作流，例如，跟踪、显示和更正以及导出, 所有这些都不必回到任何节点属性面板。我们在后面的教程中详细介绍了所有这些。目前，这里最有用的旋钮是平面轨迹层选择器。这将显示当前选定的轨迹层及其关联的形状。您可以看到，如果选择轨迹形状，选择器会相应更改。当我们有多个轨道层时，这是非常有用的。我们还可以创建全新的跟踪层，为绘制和跟踪做好准备。
      </p>
      <p>
       现在，我想做的是将这个 Nuke 标志插入我们的帖子轨道。为此，我需要定义我希望徽标在图像中的位置，然后导出我的轨迹数据。我首先确保我的
       <b>
        邮政
       </b>
       层被选中，然后我点击
       <b>
        正确的平面
       </b>
       按钮。这将显示所谓的平面曲面，此处以蓝色显示。这是一个诊断平面，您可以使用它来识别轨道何时开始出现故障以及如何纠正它们。它还用于定义在场景中放置图像的位置。然而，在这样做的时候，我们需要在我们称之为参考框架的地方移动表面的角落，也就是说，我们第一次开始轨道的框架 -- 在这种情况下, 框架 1。如果我们在任何其他帧移动角点,我们实际上正在应用更正，我们实际上不希望这样。让我们点击
       <b>
        转到参考框架
       </b>
       巴顿，以防我们忘了从哪里开始。您将看到，在参考框架中，平面曲面是黄色的。现在，我们可以自由地将角落移动到我们想要放置图像的地方。
      </p>
      <p>
       如果我们愿意，我们可以用网格来帮助我们排队。现在，让我们最终导出跟踪数据。我们可以从我们的工具栏上再次做到这一点，确保
       <b>
        邮政
       </b>
       层被选中。单击
       <b>
        出口
       </b>
       按钮，你可以看到有很多选项，这取决于你想要什么格式。为了我们的需求，我们想要一个
       <b>
        CornerPin2D (绝对)
       </b>
       。在这种情况下，绝对意味着输入图像将适合平面曲面的边界。在导出绝对数据之前，我们可以通过选择 “读取” 节点，然后单击
       <b>
        出口
       </b>
       按钮。这将自动连接 CornerPin 并选择正确的图像格式。为了查看我们的合成结果，我们需要在 CornerPin 和输入序列之间添加一个合并节点。我还将为角脚添加少量运动模糊以获得效果。我还将关闭所有属性面板。这将隐藏所有的绘图覆盖，并使它更容易看到我们的轨道。
      </p>
      <p>
       正如你所看到的，标志紧紧地贴在面板的背面。这正是我们想要的。这结束了我们关于 PlanarTracker 的第一个教程。
      </p>
     </div>
    </div>
   </div>
  </div>
  <div class="MCDropDown MCDropDown_Open dropDown">
   <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     NukeX 6.3-PlanarTracker: 跟踪多层
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
    <iframe allowfullscreen="" frameborder="0" height="256" mozallowfullscreen="" src="https://player.vimeo.com/video/26474018?color=f9b41b;byline=0;portrait=0" webkitallowfullscreen="" width="500">
    </iframe>
    <p>
     <a href="https://vimeo.com/26474018" target="_blank">
      跟踪多层-平面跟踪器教程
     </a>
     从
     <a href="https://vimeo.com/thefoundry" target="_blank">
      铸造
     </a>
     上
     <a href="https://vimeo.com/" target="_blank">
      Vimeo
     </a>
     .
    </p>
    <div class="MCDropDown MCDropDown_Open dropDown">
     <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented">
      <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
       <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
       <span class="Master_VariablesTranscribedContent">
        Transcription
       </span>
      </a>
     </span>
     <div class="MCDropDownBody dropDownBody">
      <p>
       大家好，我是 Dan Ring，欢迎来到 Nuke 新 PlanarTracker 的第二个教程。在本教程中，我们将研究跟踪多层。我们想追踪这艘船的前部，以便在它上面贴一个标志，但是如果我们透过镜头看，我们可以看到它被悬挂电缆挡住了。在本教程中，我将向您展示如何使用反向分层来获得更好的轨道。
      </p>
      <p>
       首先，我会告诉你，如果我们试图不使用层跟踪船会发生什么。让我们从创建 PlanarTracker 开始。现在我们可以在这里做一个观察，这将有助于我们的跟踪。如果我们看船的侧面，我们可以看到它们与我们想放置标志的区域大致在同一平面上。通过包括属于同一平面的其他区域，我们将最终获得更好的分布式特征轨迹，通常是更好的整体平面轨迹。所以让我们把这些区域画成两个。我还可以看到，在拍摄过程中，船前部的角度没有太大变化。这意味着我们可以锁定我们的
       <b>
        平面表观运动类型
       </b>
       到
       <b>
        TSR 剪切
       </b>
       。我也会重命名这个层
       <b>
        船
       </b>
       。在这一点上，你可能会说电缆没有完全堵塞船，那么为什么你不能正常跟踪呢？嗯，在某些情况下，你可以逃脱惩罚，尤其是如果遮挡物体的表面很小。让我们看看如果我们现在试着追踪会发生什么。
      </p>
      <p>
       马上，我们可以看到电缆擦掉了轨道。为了解决这个问题，我们将为电缆创建一个保持。更好的是，我们将跟踪电缆，并使用轨道作为我们的抵抗。为此，我们创建一个新的轨道层。最简单的方法是从选定的层中选择新的轨道层，然后开始绘制。我要在电缆周围画一个白色边框。为了给船上的特征一个像样的缓冲区，我将把层重命名为
       <b>
        电缆
       </b>
       。如果我们浏览镜头，我们可以看到电缆不会改变它的形状或方向。这意味着我们可以锁定
       <b>
        平面表观运动类型
       </b>
       到
       <b>
        T 刻度
       </b>
       ,这意味着它只会跟踪翻译和规模的变化，通常会导致更好的跟踪。这在平坦的无特征表面 (如电缆) 上特别有用。现在让我们点击
       <b>
        跟踪结束
       </b>
       按钮，看着它走。
      </p>
      <p>
       这看起来是一条非常合理的轨道，重要的是，它覆盖了电缆和船之间的大部分重叠区域。当使用层时，重要的是要记住每层中的轨迹形状将容纳下面的所有轨迹层。例如，因为我们的电缆层在我们的船层之上，所以船的形状将从它上面移除电缆形状。这与在 Roto 节点中创建常规保留的方式不同。它一次也适用于许多层。我们的想法是在 “曲线” 菜单中根据与相机的距离对图层进行排序，以便在最顶层轨道层绘制的对象更靠近相机，在我们的例子中, 我们的电缆层。我们要追踪的最远的物体在最底层，在我们的例子中，我们的船层。所以现在我们的坚持轨道完成了，让我们回去重新跟踪我们的船层。我将从清除所有要保存的轨道数据开始 (
       <b>
        清除所有跟踪数据
       </b>
       )，然后单击
       <b>
        跟踪结束
       </b>
       .
      </p>
      <p>
       你可以看到，这一次，赛道是完美的。现在让我们把我们的标志。和上一个教程一样，我们将选择我们的读取节点，并使用
       <b>
        绝对
       </b>
       模式。我们现在回到我们的参考框架，将我们的平面表面调整到我们想要放置徽标的位置。我们也可以使用网格来帮助我们排列我们的表面。现在，创建一个合并节点并将其连接起来，设置我们的输入
       <b>
        B
       </b>
       到我们的 Roto 节点和我们的输入
       <b>
        一个
       </b>
       到 CornerPin。我们还将把它移到节点图中的一个合理的位置，使它看起来不那么混乱。所以我们几乎完成了，但是，如果我们看看我们的输出，你会看到标志出现在电缆上。
      </p>
      <p>
       显然，我们想为我们的 comp 保留电缆，我们实际上可以使用我们现有的轨道结果来做到这一点。回到我们的电缆轨道形状，你可以把它拧紧一点，用它作为面具。现在，让我们将形状颜色的 alpha 分量设置为 0。所以，现在让我们看看我们的 Roto 节点的 alpha 通道。我认为这正是我们想要的。现在，如果我们回到合并节点，我们可以设置
       <b>
        面具
       </b>
       到
       <b>
        Rgba.alpha
       </b>
       ,如果我们把它连接到观众，我们应该看到我们有一个很好的坚持。我们只需要稍微调整一下电缆上的旋转形状。所以看起来好多了。让我们清理绘图手柄，然后循环播放，这样我们就可以更好地看到 comp。我对这条赛道非常满意。Nuke PlanarTracker 的第二个教程到此结束。
      </p>
     </div>
    </div>
   </div>
  </div>
  <div class="MCDropDown MCDropDown_Open dropDown">
   <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     NukeX 6.3-PlanarTracker: 钻机移除和支撑层
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
    <iframe allowfullscreen="" frameborder="0" height="256" mozallowfullscreen="" src="https://player.vimeo.com/video/26475873?color=f9b41b;byline=0;portrait=0" webkitallowfullscreen="" width="500">
    </iframe>
    <p>
     <a href="https://vimeo.com/26475873" target="_blank">
      钻机移除和保持层-平面跟踪器教程
     </a>
     从
     <a href="https://vimeo.com/thefoundry" target="_blank">
      铸造
     </a>
     上
     <a href="https://vimeo.com/" target="_blank">
      Vimeo
     </a>
     .
    </p>
    <div class="MCDropDown MCDropDown_Open dropDown">
     <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented">
      <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
       <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
       <span class="Master_VariablesTranscribedContent">
        Transcription
       </span>
      </a>
     </span>
     <div class="MCDropDownBody dropDownBody">
      <p>
       大家好，我是 Dan Ring，欢迎来到 Nuke 新 PlanarTracker 的第三个教程。在本教程中，我将演示如何使用平面跟踪和背景板进行一些钻机移除。我还将向您展示如何使用额外的轨道层来为轨道创建抵抗。在这张照片中，我们有一个相机小车轨道的框架，我们想删除。我们还有一个干净的盘子，一个善良的艺术家为我们画了。我们在这里要做的是简单地跟踪地板，并沿着轨道移动我们的清洁板。让我们现在就做。
      </p>
      <p>
       我们将从旋转节点开始，绘制我们想要跟踪的区域的形状，而不是使用节点菜单来创建平面跟踪器。在这里，我尽可能多地画地板，只是额外的一点点。然后，要从 Roto 节点中创建一个轨迹，我们只需右击该形状并单击
       <b>
        平面跟踪此形状
       </b>
       。这建立了一个
       <b>
        PlanarTrackLayer
       </b>
       在 “旋转曲线” 面板和关联的 PlanarTracker 节点中。我要重命名层
       <b>
        地板
       </b>
       。现在，请记住，在之前的教程中，我提到了参考框架的概念，在内部，变换和其他框架是相对于参考框架计算的。因此，当你在参考帧时，基本上没有应用变换。我知道我们的清洁板是为帧 382 绘制的，所以当我们完成轨道时，我们不希望在帧 382 上应用任何变换。这意味着我希望 382 成为我的参考系，我们通过在 382 帧开始我们的轨道来做到这一点。这也意味着我们的旋转形状需要在 382 帧绘制，我已经确定这样做了。
      </p>
      <p>
       有时，你可能需要改变你的参考框架，例如，如果一个艺术家画了一个 Roto 或者为你的参考框架以外的框架做了一个干净的盘子。在这种情况下，您可以简单地转到新框架并单击
       <b>
        将当前帧设置为参考帧
       </b>
       按钮。我们几乎准备好了跟踪，但是首先我们要设置我们的导出节点，这样我们就可以在跟踪时看到结果。由于我们不希望在参考系上进行任何变换，也不希望将清洁板放置在平面内，因此我们可以选择
       <b>
        CornerPin2D (相对)
       </b>
       。为了看到我们的复合材料，我们将这个输入连接到我们的干净板上，并将它与我们最初的镜头合并。
      </p>
      <p>
       现在，让我们开始跟踪。再次，从 382 帧开始，跟踪到拍摄的开始。我刚刚想起了一些可能会影响赛道的东西，所以我将停止它，回到我们最初的镜头。如果我们打开
       <b>
        显示轨迹
       </b>
       巴顿，我们可以看到原因。如果你看一下标志，你可以看到很多特征在这里被跟踪，并且偏离了轨道。为了解决这个问题，我们需要把这个标志从镜头中拿出来。通常在 Roto land，我们可以简单地在第一个形状上画几个面具形状。然而，PlanarTracker 系统有自己的方式来建立抵抗。我们将从绘制一个形状来掩盖标志开始，小心地将其绘制在
       <b>
        根
       </b>
       层。现在，我们通过选择它并右键单击并选择将其添加到自己的轨道层中
       <b>
        平面跟踪此形状
       </b>
       。我将重命名此层
       <b>
        坚持
       </b>
       。如果我们想在这张照片中展示更多的东西，我们也可以给这个层添加更多的形状。重要的是要知道平面轨道层与其他层相互作用。他们的工作方式是，每个轨道层将保持在它下面的轨道层。因此，因为我们的支撑层在顶部，我们的支撑形状将掩盖它下面的地板形状的标志。另一个好处是，如果标志在移动，我们可以简单地先跟踪它，因为它在跟踪层。由于它没有移动，我们不需要对这个轨道层做任何其他事情。相反，我们会回到我们的地板轨道，去我们的参考系。我们将清除所有跟踪数据，并重新跟踪。我要加快录音速度以节省时间。
      </p>
      <p>
       现在在拍摄的过程中跟踪得更好，但是如果我们看一开始，似乎有一些有趣的事情发生。让我们看看平面表面，看看发生了什么。如果我们擦洗镜头，你可以看到那些奇怪的画面表面已经变成红色。在观众中，它也变得有点疯狂。这意味着此时的变换与参考帧相比是极端的。当摄像机移动到场景中时，这通常发生在这类镜头上。谢天谢地，这很容易解决。我们所需要做的就是转到我们的参考系并调整我们的平面 (
       <b>
        正确的平面
       </b>
       )。在这里，我统治着表面，这告诉 PlanarTracker 只关心相对于地板的变换，而不是整个场景。这不需要完美，它只需要在地板上的某个地方。一旦我们做到了这一点，我们的赛道应该会看起来更好。
      </p>
      <p>
       所以，你现在可以看到有趣的转变已经消失了。现在让我们关闭这些属性面板以获得更好的视图。现在，这条赛道开始看起来好多了，除了这里偷偷溜进来的这个标志。让我们把这个轨道放在一个循环中，这样我们就可以看到到底发生了什么。这条赛道看起来非常好，并且非常紧紧地贴在地面上。我们的第三个 PlanarTracker 教程到此结束。
      </p>
     </div>
    </div>
   </div>
  </div>
  <div class="MCDropDown MCDropDown_Open dropDown">
   <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     NukeX 6.3-PlanarTracker: 使用色度键跟踪
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
    <iframe allowfullscreen="" frameborder="0" height="256" mozallowfullscreen="" src="https://player.vimeo.com/video/26477229?color=f9b41b;byline=0;portrait=0" webkitallowfullscreen="" width="500">
    </iframe>
    <p>
     <a href="https://vimeo.com/26477229" target="_blank">
      使用色度键跟踪-平面跟踪器教程
     </a>
     从
     <a href="https://vimeo.com/thefoundry" target="_blank">
      铸造
     </a>
     上
     <a href="https://vimeo.com/" target="_blank">
      Vimeo
     </a>
     .
    </p>
    <div class="MCDropDown MCDropDown_Open dropDown">
     <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented">
      <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
       <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
       <span class="Master_VariablesTranscribedContent">
        Transcription
       </span>
      </a>
     </span>
     <div class="MCDropDownBody dropDownBody">
      <p>
       嗨，我是 Dan Ring，欢迎来到 Nuke PlanarTracker 的第四个教程。在本教程中，我将向您展示如何在平面跟踪中使用额外的输入。用虚拟屏幕替换屏幕或扩展屏幕集是常见的平面跟踪任务。通常真实的屏幕，或者需要扩展的场景区域，可能是用绿色屏幕拍摄的。在绿色屏幕上绘制跟踪的旋转形状有时会很棘手，尤其是如果有很多东西挡住了屏幕。在这种情况下，使用亮度或色度键来指定你想跟踪的区域可能会更容易，Nuke 的 PlanarTracker 允许你这样做。这里要注意的是，PlanarTracker 的附加输入的行为不同于 CameraTracker 的行为。使用 PlanarTracker，您可以使用它来指定要包括在轨道中的区域，而在 CameraTracker 中，您可以使用它来排除区域。
      </p>
      <p>
       在这张照片中，我们有一个绿色屏幕，我们想用我们的标志来跟踪和替换它。我们还有一个 Primatte 节点，我已经设置了它来提取一个色度键，还有一个表达式节点来进行一些硬清理。为了跟踪这个屏幕，我们将从创建平面跟踪器开始，但是我们不会绘制形状，而是将跟踪层留空。然后，我们将打开 PlanarTracker 节点的属性，并更改
       <b>
        附加输入
       </b>
       旋钮。这里有很多选择，这取决于你想如何工作或者你的面具是什么格式。对于我们的设置，我们将选择
       <b>
        面具倒阿尔法
       </b>
       。这有两个含义: 第一，我们将在 PlanarTracker 节点上提供一个 alpha 通道
       <b>
        面具
       </b>
       输入和两个，通过说倒排掩模，我们的轨道区域将被指定，其中像素的 alpha 为 0。正如你在这里看到的，从表达式节点的屏蔽覆盖中，这正是我们想要的。我们现在连接 PlanarTracker 节点
       <b>
        面具
       </b>
       输入到表达式节点，我们现在可以跟踪了。我们这样做的方式和以前完全一样。
      </p>
      <p>
       要查看轨迹的运行情况，我们可以在参考系上显示和移动我们的平面曲面，然后在时间线上擦洗。这一切看起来都很好，所以让我们加入我们的标志，我们可以走了。由于我们希望我们的徽标出现在这里的这个框架中，我们将选择我们的读取节点，然后选择
       <b>
        CornerPin2D (绝对)
       </b>
       和往常一样，我们创建合并节点。我们将摆脱绘图手柄，看看轨道是如何发展的。所以这条赛道看起来不错。现在让我们试试更困难的东西。
      </p>
      <p>
       在这张照片中，我们有一个从天空到地面的非常缓慢的平底锅。这里的想法是试图跟踪天空，以便在上面放一个标志。在这里，很难在第一帧中绘制一个仍然存在于最后一帧中的形状。这是跟踪平移镜头的常见问题，使用 PlanarTracker 的附加输入非常有用。我们可以在这里看到这里有一个漂亮的蓝天和云，这将是完美的拉色键，这正是我们在这里对灵长类动物节点所做的。同样，我们使用了一些额外的节点进行清理。这里的扩张节点非常重要。它有助于扩展 alpha 通道像素，因此我们没有在起重机上跟踪任何功能。回到我们最初的拍摄，我们以完全相同的方式设置了我们的 PlanarTracker。我们打开 PlanarTracker 节点属性并设置
       <b>
        附加输入
       </b>
       面具到
       <b>
        面具倒阿尔法
       </b>
       。然后我们设置
       <b>
        面具
       </b>
       输入到我们的最终裁剪节点，从此我们可以开始跟踪。我们将从头开始，一直努力到最后。如果我们看特征轨迹，我们可以看到天空中一些非常漂亮的像鸟一样的特征。请注意，只有蓝天和云区域被跟踪。
      </p>
      <p>
       让我们看看我们的平面曲面 (
       <b>
        CorrectPlane
       </b>
       ) 只是为了确保一切正常，并且转变不会太极端。这种红色看起来像轨道的末端，将这个平面曲面推向无效状态。因此，就像在之前的教程中一样，我们可以回到参考框架，将平面表面拐角移动到我们正在跟踪的区域附近，以解决这个问题。现在，如果我们擦洗，我们可以看到看起来好多了。最后，让我们把我们的标志放在天空飞机上，看看我们是如何做到的。我已经在这里创建了一个自定义变换节点，将徽标扭曲到我想要的位置。这意味着我们不想创建一个绝对的 CornerPin 节点，我们实际上想要一个相对的 CornerPin 节点。我们将其连接起来，并像往常一样创建合并节点。现在，让我们关闭我们的显示手柄，并将轨道设置为看起来更好。
      </p>
      <p>
       现在，天空的轨迹看起来非常坚固，你可以看到使用色度键而不是使用旋转形状来指定轨迹区域是多么容易。第四个 PlanarTracker 教程到此结束。
      </p>
     </div>
    </div>
   </div>
  </div>
  <div class="MCDropDown MCDropDown_Open dropDown">
   <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     NukeX 6.3-PlanarTracker: 纠正跟踪漂移
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
    <iframe allowfullscreen="" frameborder="0" height="256" mozallowfullscreen="" src="https://player.vimeo.com/video/26477433?color=f9b41b;byline=0;portrait=0" webkitallowfullscreen="" width="500">
    </iframe>
    <p>
     <a href="https://vimeo.com/26477433" target="_blank">
      校正跟踪漂移-平面跟踪器教程
     </a>
     从
     <a href="https://vimeo.com/thefoundry" target="_blank">
      铸造
     </a>
     上
     <a href="https://vimeo.com/" target="_blank">
      Vimeo
     </a>
     .
    </p>
    <div class="MCDropDown MCDropDown_Open dropDown">
     <span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented">
      <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" href="javascript:void(0);">
       <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
       <span class="Master_VariablesTranscribedContent">
        Transcription
       </span>
      </a>
     </span>
     <div class="MCDropDownBody dropDownBody">
      <p>
       嗨，我是 Dan Ring，欢迎来到 Nuke 新 PlanarTracker 的第五个教程。在本教程中，我将演示如何在轨迹漂移时纠正它们。在这张照片中，我想在这里跟踪这个窗口，但是我知道这个窗口很难跟踪，因为反射、运动模糊和镜头失真。我会开始跟踪，我会告诉你我的意思。我将使用 Roto 节点创建 PlanarTracker。我将在我想跟踪的窗口周围画一个形状，只是一个粗略的形状，右击它，然后单击
       <b>
        平面轨道向前
       </b>
       。我将加快跟踪速度以节省时间。
      </p>
      <p>
       现在，PlanarTracker 看起来已经做了一个合理的工作，但是它不太合适，我们想解决这个问题。首先，我们需要评估损失。为此，我们将显示我们的平面，并将曲面的角移动到容易看到的地方，例如，窗口的角。请注意，我正在移动参考系上的平面曲面，请记住，我对参考系上的平面曲面所做的任何更改都会在整个镜头中产生涟漪。我也要去
       <b>
        锁
       </b>
       跟踪 Bezier，这样我们就不会意外地选择和移动它的控制点。擦洗时间线，我们可以看到随着轨道的推移，轨道越来越滑。特别是，如果你看平面曲面的右上角或左上角。是时候修复这条轨道了，我们通过移动平面表面的拐角来做到这一点，当它们不在参考系上时。例如，让我们转到最后一帧，移动右上角。你可以看到旋转形状随着修正移动。在内部，每个校正键的偏移允许跟踪数据的平滑插值。请注意，平面曲面在具有关键帧时会变为青色。现在，当我们前后移动时，我们应该会看到这个角落跟踪更好一点。我们可以看到轨道在这一点上稍微好一点，但是，我们想要更好的工具来帮助我们诊断轨道何时出错，然后更容易进行修正。
      </p>
      <p>
       我们实际上有两个工具来帮助我们看到和纠正漂移。第一个是
       <b>
        中心平面曲面
       </b>
       按钮，将查看器锁定在曲面的中心。这已经使得漂移更容易看到，并且对大多数情况来说是完美的。然而，如果你想跟踪一个特定的角落，这是很困难的。为了向您展示我们的第二个漂移修正工具，我们将导出一个变换节点来帮助我们。特别是，我们将导出一个稳定节点并将其连接到查看器。我们还必须禁用
       <b>
        中心平面曲面
       </b>
       按钮以避免混淆。稳定节点对你的镜头应用完全相反的变换，所以它会让你的镜头看起来像静止不动。除了看起来非常奇怪之外，它还让我们很容易看到和纠正漂移修正。在这个倒置的空间中，你可以看到窗户偏离平面表面。这与通常会发生的完全相反。通常，您会期望平面曲面从窗口中漂移。我们也可以打开
       <b>
        显示网格线
       </b>
       帮助我们完美地排列窗户。你可以看到，当我们进行修正时，稳定会将变换重新捕捉到位。那个框架看起来很好; 让我们看看我们做得怎么样。这已经看起来好多了，但我们还没有完成。
      </p>
      <p>
       我们想确保我们的赛道是好的，不仅仅是在这四个角落，而且在赛道的中心。回到我们的参考系，我们可以将四个角中的任何一个移动到其他位置，以便在事情出错时帮助我们的眼球。例如，我们想看看窗框的这一部分随着时间的推移跟踪得有多好，并确保它也能像角落一样保持好锁。浏览时间线，我们可以看到这一点的轨迹实际上很好，但是，在 35 帧附近 -- 就在中间之后 -- 我们可以看到它开始稍微向下漂移。我们可以调整一下，这很好。如果我们愿意，我们可以重复这个移动参考帧角的过程，并根据我们的需要在其他地方调整它们，每次改进轨道。要查看所有漂移修正的结果，让我们将平面曲面的角移回到它们在窗口中的原始位置，然后查看轨迹信息。我们可以看到这条赛道比以前走得更紧了，第五个 PlanarTracker 教程到此结束。
      </p>
     </div>
    </div>
   </div>
  </div>
  <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
   <col/>
   <tbody>
    <tr>
     <td>
      <p>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu">
   <span class="MCDropDownHead dropDownHead">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     本节中的主题
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
   </div>
  </div>
 </body>
</html>