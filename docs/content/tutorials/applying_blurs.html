<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Tutorials|Video Tutorials|Compositing with Nuke">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Applying Blurs</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Default.html#tutorials/applying_blurs.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h2>Applying Blurs</h2>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Nuke 7.0 - ZDefocus</a></span>
            <div class="MCDropDownBody dropDownBody"><iframe src="https://player.vimeo.com/video/69182301?color=f9b41b;byline=0;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
                <p><a href="https://vimeo.com/69182301" target="_blank">NUKE 7.0 - ZDefocus</a> from <a href="https://vimeo.com/thefoundry" target="_blank">Foundry</a> on <a href="https://vimeo.com/" target="_blank">Vimeo</a>.</p>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Nuke 7.0 - Bokeh in ZDefocus</a></span>
            <div class="MCDropDownBody dropDownBody"><iframe src="https://player.vimeo.com/video/54930457?color=f9b41b;byline=0;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
                <p><a href="https://vimeo.com/54930457">NUKE 7.0 - Bokeh in ZDefocus</a> from <a href="https://vimeo.com/thefoundry">Foundry</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesTranscribedContent">Transcription</span></a></span>
                    <div class="MCDropDownBody dropDownBody">
                        <p>This is Steve Wright for Foundry, with a tutorial on the ZDefocus node’s bokeh effects. In the previous ZDefocus node tutorial, we took a quick look at the bokeh settings. In this tutorial, we will dive in for a much closer look to see the amazing amount of control you have to dial in the look of a lens bokeh. I will be using this city lights picture that has this depth.Z channel already built in. To get my ZDefocus node, I will use my <b>Tab</b> and search. Because the image has a depth channel, I already get a default defocus.</p>
                        <p>We will be looking at all three of these filter types, starting with the <b>disc</b> filter. The first parameter, <b>filter type</b>, determines whether the bokeh is a hard circle or a soft fuzzy blob. So as you move towards 0, it becomes just a Gaussian curve, back to 1, a sharp disc. The <b>aspect ratio</b> will squeeze it vertically or stretch it horizontally, so you are covered whether you are working on anamorphic plates or you are working flat and going out anamorphic.</p>
                        <p>Next, the <b>bladed</b> filter type. This refers to the bladed iris. Again, we have the <b>aspect ratio</b> as before, and here is the number of <b>blades</b> settings. By default, we have five blades, but we can set it to any number we want. Now, the <b>roundness</b> is how straight the edges are. If I go 100% roundness, it becomes almost a circle, and if I go in the opposite direction, the shape becomes concave. We will put that back to default, which is just a bit of roundness. The <b>rotation</b>, of course, allows you to rotate the filter, so that you can get any orientation you like. The <b>inner size</b> and <b>inner feather</b> will show up better if I take the <b>inner brightness</b> down to something like this.  See this dark center, that’s what we're talking about. So I can change the <b>inner size</b> to make it as small or large as I wish, and the <b>inner feather</b> is how soft it is. Here’s an interesting toggle right here: the <b>catadioptric</b> feature. Catadioptric lenses use a combination of both mirrors and lenses, which produce a unique bokeh with a hole in the center. You can also adjust the size of the hole by adjusting the <b>catadioptric size</b>.</p>
                        <p>Next up, the <b>image</b> filter type. Before I select that, I will show you the images I have. I have this star filter here, and the important thing about this is, there are two boxes to be aware of. The outer box out here is what we will call the <b>format</b>, and the inner box is the <b>bounding box</b> of the shape. Note the shape is off center from the format: it’s on the lower left-hand corner. You will see why this is important in a minute. So I am going to take the <b>filter</b> input of the ZDefocus node at hook it up to my star filter, then switch back to my ZDefocus node, and zoom in. Now we will switch the <b>filter type</b> to <b>image</b> and there you go. Of course, we can change the size of it by adjusting the <b>size</b> and <b>maximum</b> values. So why was I going on about the <b>format</b> or the <b>bounding box</b> for the shape? That’s for right here: <b>filter bounds</b>. If you say <b>shape</b>, you are telling it the shape is inside the <b>bounding box</b>. However, if you select <b>format</b>, it means you want the large outer box and you can see now that the star bokeh has shifted down lower left and has kind of a lens treatment.</p>
                        <p>The next thing I want to show you is very cool: chromatic aberration. Let me show you my Chromatic_Aberration node (not supplied with Nuke). I hooked up a little 3-channel filter here that allows me to offset the RGB values like so. These offset channels will cause an offset in the bokeh of the image, so let’s check it out. First, we will hook up the <b>filter</b> to our Chromatic_Aberration, and switch the Viewer back to the ZDefocus node, and we get an error message. The error message covers right here (<b>use input channels</b>) by default. It’s looking for the alpha channel to contain the filter input. That’s not what we have here; we have a 3-channel image. So we need to use this <b>use input channels</b>. This means use the same 3 channels in that filter input as we are in the image, which is RGB. So we turn that on, and much better. Let’s zoom in, and see what it looks like. So, you can see all my bokehs now have a chromatic aberration. Red in the upper left, blue in the lower right. If I open my Chromatic_Aberration node again, I can dial the <b>Offset</b> up and down to increase and decrease the amount of chromatic aberration. I will turn it off and toggle if for you so you can really see the effect. OK, I am done with that, so I will close it and go back to the ZDefocus node.</p>
                        <p>Next, let’s take a quick review of the <b>gamma correction</b> and <b>bloom</b>. Toggle the <b>gamma correction</b> on, and the bokeh gets a lot brighter. You have no control over this because it’s doing a gamma 2.2 change to the bokeh relative to the image. If you want to dial in your own control, use <b>bloom</b>. With the <b>bloom</b> feature turned on, these two parameters wake up. The <b>bloom gain</b> allows you to make it brighter or darker. As you lower the <b>bloom threshold</b>, darker and darker pixels get bloomed.</p>
                        <p>With these powerful new bokeh features, the ZDefocus node can match the most obscure lenses for visual effects shots, or if you are doing animation, you have complete flexibility to generate your own creative looks.</p>
                    </div>
                </div>
            </div>
        </div>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>