<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Reference Guide|Filter Nodes">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>ZDefocus</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/master_tablestyle.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#reference_guide/filter_nodes/zdefocus.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h1>ZDefocus</h1>
        <p>Blurs the image according to a depth map channel. This allows you to simulate depth-of-field (DOF) blurring.</p>
        <p>In order to defocus the image, ZDefocus splits the image up into layers, each of which is assigned the same depth value everywhere and processed with a single blur size. After ZDefocus has processed all the layers, it blends them together from the back to the front of the image, with each new layer going over the top of the previous ones. This allows it to preserve the ordering of objects in the image.</p>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesRGContent">Inputs and Controls</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <table cellpadding="0" cellspacing="0" style="border-spacing-x: 0;border-spacing-y: 0;border-collapse: collapse;border-color: black;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');caption-side: top;width: 100%;" class="TableStyle-Master_TableStyle" height="306px">
                    <col width="105px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="120px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="436px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <thead>
                        <tr style="height: 23px;background-color: #cac8c9;" class="TableStyle-Master_TableStyle-Head-Header1">
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Connection Type</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Connection Name</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadD-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Function</p>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="height: 143px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td rowspan="3" class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">Input</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">This image is used as the blur kernel. It represents the shape and size of the camera aperture used to shoot the input footage. As the clip in the <span class="_Override" style="font-weight: bold;">image</span> input is blurred, any out-of-focus highlights (’bokeh’) in the clip assume the shape of the <span class="_Override" style="font-weight: bold;">filter</span> image.</p>
                                <p class="CellBody">You can create a filter image using the Roto node (<span class="_Override" style="font-weight: bold;">Draw</span> &gt; <span class="_Override" style="font-weight: bold;">Roto</span>) or the Flare node (<span class="_Override" style="font-weight: bold;">Draw</span> &gt; <span class="_Override" style="font-weight: bold;">Flare</span>), for example. The filter image can also be a color image. For example, if you want to add color fringing to your out-of-focus highlights to simulate chromatic aberration, you can use the Flare node to easily create a suitable filter image.</p>
                                <p class="CellBody">You don’t necessarily need to crop the filter image to a smaller size, as Fast Fourier Transforms are used to speed up convolutions with large filter images.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">image</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">The image sequence to receive the blur effect. This should also contain the depth map channel.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p class="CellBody">mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
                                <p class="CellBody">An optional image to use as a mask. By default, the blur is limited to the non-black areas of the mask.</p>
                                <p class="CellBody">At first, the mask input appears as triangle on the right side of the node, but when you drag it, it turns into an arrow labeled mask. If you cannot see the mask input, ensure that the <span class="_Override" style="font-weight: bold;">mask</span> control is disabled or set to <span class="_Override" style="font-weight: bold;">none</span>.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table cellpadding="0" style="border-spacing-x: 0;border-spacing-y: 0;border-collapse: collapse;border-color: black;caption-side: top;width: 100%;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');" height="3330px" class="TableStyle-Master_TableStyle" cellspacing="0">
                    <col width="100px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="100px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="96px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="364px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <thead>
                        <tr style="height: 23px;background-color: #cac8c9;" class="TableStyle-Master_TableStyle-Head-Header1">
                            <td style="font-weight: bold;" class="TableStyle-Master_TableStyle-HeadE-Column1-Header1">
                                <p class="CellHeading">Control (UI)</p>
                            </td>
                            <td style="font-weight: bold;" class="TableStyle-Master_TableStyle-HeadE-Column1-Header1">
                                <p class="CellHeading">Knob (Scripting)</p>
                            </td>
                            <td style="font-weight: bold;" class="TableStyle-Master_TableStyle-HeadE-Column1-Header1">
                                <p class="CellHeading">Default Value</p>
                            </td>
                            <td style="font-weight: bold;" class="TableStyle-Master_TableStyle-HeadD-Column1-Header1">
                                <p class="CellHeading">Function</p>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">ZDefocus Tab</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">channels</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">channels</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">all</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">The effect is only applied to these channels.</p>
                                <p class="CellBody">If you set this to something other than <span class="_Override" style="font-weight: bold;">all</span> or <span class="_Override" style="font-weight: bold;">none</span>, you can use the checkboxes on the right to select individual channels.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Local GPU</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>gpuName</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>Displays the GPU used for rendering when <b>Use GPU if available</b> is enabled. Local GPU displays <b>Not available</b> when:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Use CPU</b> is selected as the <b>default blink device</b> in the <b>Preferences</b>.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>no suitable GPU was found on your system.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>it was not possible to create a context for processing on the selected GPU, such as when there is not enough free memory available on the GPU.</p>
                                <p>You can select a different GPU, if available, by navigating to the <b>Preferences</b> and selecting an alternative from the <b>default blink device</b> dropdown.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span> Selecting a different GPU requires you to restart <span class="CustomProduct">Nuke</span> before the change takes effect.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Use GPU if available</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>useGPUIfAvailable</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>enabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>When enabled, rendering occurs on the <b>Local GPU</b> specified, if available, rather than the CPU. The output between the GPU and CPU is identical on NVIDIA GPUs, but using the GPU can significantly improve processing performance.</p>
                                <p><span class="CustomProduct">Nuke</span> supports AMD GPUs on late 2013 Mac Pro 6,1 and mid 2015 Mac Pro 11,5, running OS X 10.9.3 'Mavericks', or later. While, in some cases the bit-wise equality between GPU and CPU holds, for some operations there are limitations to the accuracy possible with this configuration.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>Enabling this option with no local GPU allows the script to run on the GPU whenever the script is opened on a machine that does have a GPU available. <br />You should also select this if you wish to render from the command line with the <b>--gpu</b> option.</p>
                                <p class="CellBody">GPU processing also requires certain NVIDIA GPUs and CUDA drivers, or in the case of late 2013 Mac Pro 6,1 and mid 2015 Mac Pro 11,5 running 10.9.3 'Mavericks', or later, certain AMD GPUs and drivers. For more information on the minimum requirements, please refer to the Nuke Release Notes available in <b>Help</b> &gt; <b>Release Notes</b>.</p>
                            </td>
                        </tr>
                        <tr style="height: 93px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">depth channel</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">z_channel</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">depth.Z</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Specifies the input channel containing the depth map information.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>The depth map should not be anti-aliased. If it is, pixels along an edge between two objects can be assigned a depth that is in-between the depth of the front and back objects. This looks wrong, as it suggests that those edge pixels are floating somewhere between the objects.</p>
                            </td>
                        </tr>
                        <tr style="height: 468px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">math</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">math</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">depth</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Specifies how the <span class="_Override" style="font-weight: bold;">depth</span><span class="_Override" style="font-weight: bold;">channel</span> is used to calculate the distance between the camera and an object. For example, some programs use higher values to denote further away, while in others they mean closer to the camera:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">direct</span> - The <span class="_Override" style="font-weight: bold;">Z</span> value in the <span class="_Override" style="font-weight: bold;">depth channel</span> directly controls blur. For example, if <span class="_Override" style="font-weight: bold;">Z</span> is 0.5, then the blur size will be 0.5 times the value of the <span class="_Override" style="font-weight: bold;">size</span> control (unless this is bigger than <span class="_Override" style="font-weight: bold;">maximum</span>, in which case it will be clamped to <span class="_Override" style="font-weight: bold;">maximum</span>).</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">depth</span> - The <span class="_Override" style="font-weight: bold;">Z</span> value in the <span class="_Override" style="font-weight: bold;">depth channel</span> is the distance between the camera and whatever is in the image at that pixel.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">far = 0</span> - The <span class="_Override" style="font-weight: bold;">Z</span> value in the <span class="_Override" style="font-weight: bold;">depth channel</span> is equal to 1/distance. The values are expected to decrease from large positive values close to the camera to zero at infinity. This is compatible with depth maps generated by Nuke and RenderMan.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">far = 1</span> - Near plane = 0, far plane = 1. This is compatible with depth maps generated by OpenGL.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">-direct</span> - As with the <span class="_Override" style="font-weight: bold;">direct</span> mode, the Z value in the <span class="_Override" style="font-weight: bold;">depth channel</span> directly controls blur. In other words, each layer is blurred by the same amount as in the <span class="_Override" style="font-weight: bold;">direct</span> mode. However, in this mode, the layers are interpreted as being in the opposite order, so a higher depth value places a layer in front of another rather than behind it.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">-depth</span> - The <span class="_Override" style="font-weight: bold;">Z</span> value in the <span class="_Override" style="font-weight: bold;">depth channel</span> is -distance in front of the camera. This is the same as <span class="_Override" style="font-weight: bold;">depth</span>, but the distances are negative to start with.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">far = -0</span> - The <span class="_Override" style="font-weight: bold;">Z</span> value in the <span class="_Override" style="font-weight: bold;">depth channel</span> is equal to -1/distance. The values are expected to increase from large negative values close to the camera to zero at infinity. This is compatible with depth maps generated by Maya.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">far = -1</span> - Near plane = 0, far plane = -1.</p>
                            </td>
                        </tr>
                        <tr style="height: 280px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">output</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">output</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">result</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Sets the output type:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">result</span> - displays the input image and the result of the blur controls.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">focal plane setup</span> - displays depth-of-field (DOF) information in the <span class="_Override" style="font-weight: bold;">rgb</span> channels:</p>
                                <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">red</span> - Less than DOF (in front of the area that’s in focus).</p>
                                <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">green</span> - Inside DOF (in focus). Note that if<span class="_Override" style="font-weight: bold;"> depth of field</span> is set to <span class="_Override" style="font-weight: bold;">0</span>, nothing is displayed in green.</p>
                                <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">blue</span> - Greater than DOF (behind the area that’s in focus).</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">layer setup</span> - like focal plane setup, but displays depth-of-field (DOF) information after the depth has been divided into layers. Pixels assigned to the same layer have the same amount of blur applied to them.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">filter shape setup</span> - displays the filter shape in <span class="_Override" style="font-weight: bold;">rbg</span>, allowing you to adjust the filter more accurately.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">show image</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">show_image</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">enabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">output</span> is set to <span class="_Override" style="font-weight: bold;">focal plane setup</span>, enabling this shows the depth-of-field (DOF) information overlaid upon the input image.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>fill foreground</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>fill_foreground</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>enabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>When enabled, <span class="CustomProduct">Nuke</span> attempts to compensate for missing information by filling regions in the foreground which are revealed when the foreground goes out of focus.</p>
                                <p> You can try enabling this control if you see sharp edge artefacts in blurred objects in front of the focal point (nearer to the camera). However, because the true image information isn't available in these regions, enabling <b>fill foreground</b> can sometimes introduce undesirable artefacts by adding things which aren't there. If you see blurry artefacts in the foreground, rather than sharp edge artefacts, try disabling this control.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">focus plane (C)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">center</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Sets the Z depth of areas in the image that are entirely in focus.</p>
                            </td>
                        </tr>
                        <tr style="height: 44px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">focal point xy</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">focal_point</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">200, 200</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Controls the position of the <span class="_Override" style="font-weight: bold;">focal point</span> widget in the Viewer. Adjusting the Viewer widget updates the <span class="_Override" style="font-weight: bold;">focus</span><span class="_Override" style="font-weight: bold;">plane</span> and <span class="_Override" style="font-weight: bold;">focal</span><span class="_Override" style="font-weight: bold;">point</span> fields automatically.</p>
                            </td>
                        </tr>
                        <tr style="height: 35px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">depth of field</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">dof</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Sets a depth slice around the focus plane that is entirely in focus.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>True theoretical depth of field would set this to zero.</p>
                            </td>
                        </tr>
                        <tr style="height: 44px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">blur inside</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">blur_dof</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">enabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When enabled, a small amount of blur is applied to the in-focus region.  This gives a smoother transition between the in-focus region and the out-of-focus regions around it.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">25</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Sets the size of the blur at infinite depth. Blur nearer the camera than the focus plane may be larger.</p>
                                <p class="CellBody">If you have set <span class="_Override" style="font-weight: bold;">math</span> to <span class="_Override" style="font-weight: bold;">direct</span>, the size is multiplied by the depth to give the blur size at that depth. Setting <span class="_Override" style="font-weight: bold;">size</span> to 1 allows you to use the values in the depth map as the blur size directly.</p>
                            </td>
                        </tr>
                        <tr style="height: 64px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">maximum</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">max_size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">50</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The filter size is clipped at this maximum value. No blurring greater than this value is generated no matter where the object is in relation to the camera.</p>
                                <p class="CellBody">Set this value as low as possible for maximum processing speed.</p>
                            </td>
                        </tr>
                        <tr style="height: 108px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">automatic layer spacing</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">autoLayerSpacing</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">enabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When enabled, ZDefocus automatically works out how many depth layers to use, based on the maximum blur size (<span class="_Override" style="font-weight: bold;">maximum</span>). In this mode, the layers are closer together near to the focal plane, where a small change in the blur amount is more obvious, and increasingly more widely-spaced further away.</p>
                                <p class="CellBody">When disabled, you can control the depth layers and their spacing manually using <span class="_Override" style="font-weight: bold;">depth layers</span> and <span class="_Override" style="font-weight: bold;">layer curve</span>.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">depth layers</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">nLayers</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">20</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The number of depth layers to use for the blur. Use a small number of layers for maximum speed.</p>
                                <p class="CellBody">The maximum number of blur sizes that are used between 0 and <span class="_Override" style="font-weight: bold;">maximum</span> is 256. This means you can have up to 256 layers behind the focal plane, and up to 256 in front of it as well.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">layer curve</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">layerCurve</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">1</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">The curve to apply to the layer spacing.</p>
                                <p class="CellBody">A value of 0 gives evenly spaced layers. Positive values concentrate the layers closer to the in-focus region. Negative values mean the layers are concentrated far from the focal plane, towards the <span class="_Override" style="font-weight: bold;">maximum</span> blur size.</p>
                            </td>
                        </tr>
                        <tr style="height: 89px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter type</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter_type</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">disc</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Sets the blur filter applied to the image:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">disc</span> - applies a round disc filter to the image.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">bladed</span> - applies a bladed filter to the image (simulates the iris blades that can make up a camera's diaphragm).</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">image</span> - uses the image in the <span class="_Override" style="font-weight: bold;">filter</span> input as the blur kernel.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">The following controls, up to and including <span class="_Override" style="font-weight: bold;">aspect ratio</span>, are only available when <span class="_Override" style="font-weight: bold;">filter</span><span class="_Override" style="font-weight: bold;"> type</span> is set to <span class="_Override" style="font-weight: bold;">disc</span>.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter shape</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">shape</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Dissolves the filter shape between Gaussian at 0 and disc at 1.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">aspect ratio</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">aspect</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">1</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Sets the filter aspect ratio, which is 1:1 by default. Values less than 1 squeeze the filter on the x axis, and values larger than 1 squeeze it on the y axis.</p>
                                <p class="CellBody">This allows you to simulate the cat's eye effect, caused by vignetting inherent within some lens designs.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The following controls, up to and including <span class="_Override" style="font-weight: bold;">catadioptric</span>, are only available when <span class="_Override" style="font-weight: bold;">filter</span><span class="_Override" style="font-weight: bold;"> type</span> is set to <span class="_Override" style="font-weight: bold;">bladed</span>.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">aspect ratio</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">aspect</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">1</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Sets the filter aspect ratio, which is 1:1 by default. Values less than 1 squeeze the filter on the x axis, and values larger than 1 squeeze it on the y axis.</p>
                                <p class="CellBody">This allows you to simulate the cat's eye effect, caused by vignetting inherent within some lens designs.</p>
                            </td>
                        </tr>
                        <tr style="height: 64px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">blades</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">blades</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">5</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Sets the number of iris blades that make up the camera's diaphragm. A value of 3 produces a triangle, 4 a square, 5 a pentagon, 6 a hexagon, and so on.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>This field only accepts integers larger than 1.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">roundness</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">roundness</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0.2</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Controls the rounding of the filter polygon’s sides, where zero is equal to no rounding.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">rotation</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">rotation</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Controls filter rotation in degrees. Positive values produce counter-clockwise rotation and vice-versa.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">inner size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">inner_size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0.8</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Controls the size of the inner polygon, as a percentage of the outer polygon.</p>
                            </td>
                        </tr>
                        <tr style="height: 59px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">inner feather</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">inner_feather</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">1</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Adds outward or inward feathering around the inner polygon. With values larger than 0.5, your feather effect is outward and, respectively, if your values are smaller than 0.5, the feather effect is inward. A value of 0.5 produces no feathering.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">inner brightness</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">inner_brightness</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0.8</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Controls the brightness of the inner polygon, where 0 is equal to black and 1 to white.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">catadioptric size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">catadioptric_size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">0.3</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">catadioptric</span> is enabled, controls the size of the catadioptric hole in the filter.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">catadioptric</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">catadioptric</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When enabled, ZDefocus simulates catadioptric lenses. This means the defocused areas of the image are annular, producing donut-shaped bokeh.</p>
                                <p class="CellBody">You can use the <span class="_Override" style="font-weight: bold;">catadioptric</span><span class="_Override" style="font-weight: bold;"> size</span> to control the hole in the center of the filter.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The following controls, up to and including <span class="_Override" style="font-weight: bold;">clamp image filter</span>, are only available when <span class="_Override" style="font-weight: bold;">filter</span><span class="_Override" style="font-weight: bold;"> type</span> is set to <span class="_Override" style="font-weight: bold;">image</span>.</p>
                            </td>
                        </tr>
                        <tr style="height: 35px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>legacy resize mode</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>legacy_resize_mode</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Loading scripts from pre-Nuke 8.0v7 enables the <b>legacy resize mode</b> checkbox automatically, for backward compatibilty, and uses the <b>filter bounds</b> dropdown to determine how images used in filtering are resized.</p>
                                <p>Adding new ZDefocus nodes hides the <b>legacy resize mode</b> checkbox and allows you to use the <b>image filter</b> dropdown to give you more flexibility when calculating blur.</p>
                            </td>
                        </tr>
                        <tr style="height: 35px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter channel</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter_channel</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">rgba.alpha</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The channel to use as the convolution matrix from the <span class="_Override" style="font-weight: bold;">filter</span> input.</p>
                                <p class="CellBody">This control is only available if <span class="_Override" style="font-weight: bold;">use input channels</span> is disabled.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>use input channels</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>use_input_channels</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>When enabled, the same channels are used for both the filter and image inputs.</p>
                            </td>
                        </tr>
                        <tr style="height: 143px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter bounds</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">filter_bounds</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">shape</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Sets what to use as the filter bounds when <b>legacy resize mode</b> is enabled:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">shape</span> - The <span class="_Override" style="font-weight: bold;">filter</span> input’s bounding box. In this case, ZDefocus only uses the bounding box area, and the center of the filter is the center of the bounding box. This is the default value, and you may want to use it if your <span class="_Override" style="font-weight: bold;">filter</span> input is a roto shape with a small bounding box that doesn’t fill the entire format area, for example.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">format</span> - The <span class="_Override" style="font-weight: bold;">filter</span> input’s format. In this case, ZDefocus uses the entire format area, allowing you to offset the filter image within the format.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>This control is only available when <b>legacy resize mode</b> is enabled.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">image filter</td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">image_filter</td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">Cubic</td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Sets which of <span class="CustomProduct">Nuke</span>'s filtering algorithms to use when remapping pixels from their original positions to new positions, when <b>legacy resize mode</b> is disabled:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Impulse</span> - remapped pixels carry their original values.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Cubic</span> - remapped pixels receive some smoothing.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Keys</span> - remapped pixels receive some smoothing, plus minor sharpening (as shown by the negative -y portions of the curve).</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Simon</span> - remapped pixels receive some smoothing, plus medium sharpening (as shown by the negative -y portions of the curve). </p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Rifman</span> - remapped pixels receive some smoothing, plus significant sharpening (as shown by the negative -y portions of the curve).</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Mitchell</span> - remapped pixels receive some smoothing, plus blurring to hide pixelation.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Parzen</span> - remapped pixels receive the greatest smoothing of all filters.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Notch</span> - remapped pixels receive flat smoothing (which tends to hide moire patterns).</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Lanczos4</b>, <b>Lanczos6</b>, and <b>Sinc4</b> - remapped pixels receive sharpening which can be useful for scaling down. <b>Lanczos4</b> provides the least sharpening and <b>Sinc4</b> the most</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>This control is only available when <b>legacy resize mode</b> is disabled.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">clamp image filter</td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">clamp_image_filter</td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">disabled</td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>When using filters that employ sharpening, such as <b>Rifman</b> and <b>Lanczos</b>, you may see a haloing effect. If necessary, check <b>clamp image filter</b> to correct this problem.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>This control is only available when <b>legacy resize mode</b> is disabled.</p>
                            </td>
                        </tr>
                        <tr style="height: 64px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">gamma correction</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">bloom_gamma</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When enabled, a gamma curve of 2.2 is applied before blurring and then reversed for the final output.</p>
                                <p class="CellBody">This is useful for making bokeh lens shape effects warmer and more visible.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">bloom</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">bloom</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When enabled, highlights over the <span class="_Override" style="font-weight: bold;">bloom threshold </span>are boosted to make lens shape effects more visible.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">bloom threshold</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">bloom_threshold</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0.8</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">bloom</span> is enabled, highlights above this value are multiplied by the <span class="_Override" style="font-weight: bold;">bloom gain</span> value to make lens shape effects more visible.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">bloom gain</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">bloom_gain</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">2</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">bloom</span> is enabled, highlights above the bloom threshold are multiplied by this value.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td rowspan="2" class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Enable the associated mask channel to the right. Disabling this checkbox is the same as setting the channel to <span class="_Override" style="font-weight: bold;">none</span>.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">maskChannelInput</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">none</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The channel to use as a mask. By default, the blur is limited to the non-black areas of this channel.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">inject</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">inject</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Copies the <span class="_Override" style="font-weight: bold;">mask</span> input to the predefined <span class="_Override" style="font-weight: bold;">mask.a</span> channel. Injecting the mask allows you to use the same mask further downstream.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">invert</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">invert_mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Inverts the use of the mask channel, so that the blur is limited to the non-white areas of the mask.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">fringe</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">fringe</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Blurs the edges of the mask.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">mix</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">mix</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">1</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Dissolves between the original image at 0 and the full effect at 1.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body2">&#160;</td>
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body2">&#160;</td>
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body2">&#160;</td>
                            <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body2">&#160;</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesUGContent">Step-by-Step Guides</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <p><a href="../../comp_environment/filters/applying_blurs.html#Simulating_Depth-of-Field_Blurring" class="MCXref xref"><span style="color: #00b4e0;" class="mcFormatColor">Simulating Depth-of-Field Blurring</span></a>
                </p>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesVideoContent">Video Tutorials</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Nuke 7.0 - ZDefocus</a></span>
                    <div class="MCDropDownBody dropDownBody"><iframe src="https://player.vimeo.com/video/69182301?color=f9b41b;byline=0;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
                        <p><a href="https://vimeo.com/69182301" target="_blank">NUKE 7.0 - ZDefocus</a> from <a href="https://vimeo.com/thefoundry" target="_blank">Foundry</a> on <a href="https://vimeo.com/" target="_blank">Vimeo</a>.</p>
                    </div>
                </div>
                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Nuke 7.0 - Bokeh in ZDefocus</a></span>
                    <div class="MCDropDownBody dropDownBody"><iframe src="https://player.vimeo.com/video/54930457?color=f9b41b;byline=0;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
                        <p><a href="https://vimeo.com/54930457">NUKE 7.0 - Bokeh in ZDefocus</a> from <a href="https://vimeo.com/thefoundry">Foundry</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesTranscribedContent">Transcription</span></a></span>
                            <div class="MCDropDownBody dropDownBody">
                                <p>This is Steve Wright for Foundry, with a tutorial on the ZDefocus node’s bokeh effects. In the previous ZDefocus node tutorial, we took a quick look at the bokeh settings. In this tutorial, we will dive in for a much closer look to see the amazing amount of control you have to dial in the look of a lens bokeh. I will be using this city lights picture that has this depth.Z channel already built in. To get my ZDefocus node, I will use my <b>Tab</b> and search. Because the image has a depth channel, I already get a default defocus.</p>
                                <p>We will be looking at all three of these filter types, starting with the <b>disc</b> filter. The first parameter, <b>filter type</b>, determines whether the bokeh is a hard circle or a soft fuzzy blob. So as you move towards 0, it becomes just a Gaussian curve, back to 1, a sharp disc. The <b>aspect ratio</b> will squeeze it vertically or stretch it horizontally, so you are covered whether you are working on anamorphic plates or you are working flat and going out anamorphic.</p>
                                <p>Next, the <b>bladed</b> filter type. This refers to the bladed iris. Again, we have the <b>aspect ratio</b> as before, and here is the number of <b>blades</b> settings. By default, we have five blades, but we can set it to any number we want. Now, the <b>roundness</b> is how straight the edges are. If I go 100% roundness, it becomes almost a circle, and if I go in the opposite direction, the shape becomes concave. We will put that back to default, which is just a bit of roundness. The <b>rotation</b>, of course, allows you to rotate the filter, so that you can get any orientation you like. The <b>inner size</b> and <b>inner feather</b> will show up better if I take the <b>inner brightness</b> down to something like this.  See this dark center, that’s what we're talking about. So I can change the <b>inner size</b> to make it as small or large as I wish, and the <b>inner feather</b> is how soft it is. Here’s an interesting toggle right here: the <b>catadioptric</b> feature. Catadioptric lenses use a combination of both mirrors and lenses, which produce a unique bokeh with a hole in the center. You can also adjust the size of the hole by adjusting the <b>catadioptric size</b>.</p>
                                <p>Next up, the <b>image</b> filter type. Before I select that, I will show you the images I have. I have this star filter here, and the important thing about this is, there are two boxes to be aware of. The outer box out here is what we will call the <b>format</b>, and the inner box is the <b>bounding box</b> of the shape. Note the shape is off center from the format: it’s on the lower left-hand corner. You will see why this is important in a minute. So I am going to take the <b>filter</b> input of the ZDefocus node at hook it up to my star filter, then switch back to my ZDefocus node, and zoom in. Now we will switch the <b>filter type</b> to <b>image</b> and there you go. Of course, we can change the size of it by adjusting the <b>size</b> and <b>maximum</b> values. So why was I going on about the <b>format</b> or the <b>bounding box</b> for the shape? That’s for right here: <b>filter bounds</b>. If you say <b>shape</b>, you are telling it the shape is inside the <b>bounding box</b>. However, if you select <b>format</b>, it means you want the large outer box and you can see now that the star bokeh has shifted down lower left and has kind of a lens treatment.</p>
                                <p>The next thing I want to show you is very cool: chromatic aberration. Let me show you my Chromatic_Aberration node (not supplied with Nuke). I hooked up a little 3-channel filter here that allows me to offset the RGB values like so. These offset channels will cause an offset in the bokeh of the image, so let’s check it out. First, we will hook up the <b>filter</b> to our Chromatic_Aberration, and switch the Viewer back to the ZDefocus node, and we get an error message. The error message covers right here (<b>use input channels</b>) by default. It’s looking for the alpha channel to contain the filter input. That’s not what we have here; we have a 3-channel image. So we need to use this <b>use input channels</b>. This means use the same 3 channels in that filter input as we are in the image, which is RGB. So we turn that on, and much better. Let’s zoom in, and see what it looks like. So, you can see all my bokehs now have a chromatic aberration. Red in the upper left, blue in the lower right. If I open my Chromatic_Aberration node again, I can dial the <b>Offset</b> up and down to increase and decrease the amount of chromatic aberration. I will turn it off and toggle if for you so you can really see the effect. OK, I am done with that, so I will close it and go back to the ZDefocus node.</p>
                                <p>Next, let’s take a quick review of the <b>gamma correction</b> and <b>bloom</b>. Toggle the <b>gamma correction</b> on, and the bokeh gets a lot brighter. You have no control over this because it’s doing a gamma 2.2 change to the bokeh relative to the image. If you want to dial in your own control, use <b>bloom</b>. With the <b>bloom</b> feature turned on, these two parameters wake up. The <b>bloom gain</b> allows you to make it brighter or darker. As you lower the <b>bloom threshold</b>, darker and darker pixels get bloomed.</p>
                                <p>With these powerful new bokeh features, the ZDefocus node can match the most obscure lenses for visual effects shots, or if you are doing animation, you have complete flexibility to generate your own creative looks.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>