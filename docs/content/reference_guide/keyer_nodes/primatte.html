<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Reference Guide|Keyer Nodes">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Primatte</title>
        <link href="../../../skins/default/stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/master_tablestyle.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#reference_guide/keyer_nodes/primatte.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h1>Primatte</h1>
        <p>Primatte keys are created incrementally by sampling single pixels, or a range of pixels, from a blue or greenscreen image. This controls the polyhedron in colorspace that determines what pixels are in or outside the matte. To use Primatte, click <span class="_Override" style="font-weight: bold;">Auto-Compute</span> to automatically sense the backing screen color, eliminate it, and even get rid of some of the foreground and background noise. Alternatively, you can set <span class="_Override" style="font-weight: bold;">operation</span> to how you want to use the color samples, or use the left and right arrow buttons to step through all the operations. Then, use <span class="_Override" style="font-weight: bold;">Ctrl</span>+click or <span class="_Override" style="font-weight: bold;">Ctrl</span>+<span class="_Override" style="font-weight: bold;">Shift</span>+drag to select a single color or a range of colors from the Viewer. Primatte then uses these to adjust the polyhedron. Nuke provides unlimited Undo during this process.</p>
        <p>Primatte is a trademark of IMAGICA Corp. Primatte patent is held by IMAGICA Corp.</p>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesRGContent">Inputs and Controls</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <table cellpadding="0" cellspacing="0" style="border-spacing-x: 0;border-spacing-y: 0;border-collapse: collapse;border-color: black;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');caption-side: top;width: 100%;" class="TableStyle-Master_TableStyle" height="164px">
                    <col width="101px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="113px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="432px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <thead>
                        <tr style="height: 23px;background-color: #cac8c9;" class="TableStyle-Master_TableStyle-Head-Header1">
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Connection Type</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Connection Name</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadD-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Function</p>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td rowspan="3" class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">Input</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">bg</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The background image to replace the blue/green screen in the foreground.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">fg</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">The foreground, or subject, image to key.</p>
                            </td>
                        </tr>
                        <tr style="height: 79px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p class="CellBody">mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
                                <p class="CellBody">An optional image to use as a mask. By default, the Primatte effect is limited to the non-black areas of the mask.</p>
                                <p class="CellBody">At first, the mask input appears as triangle on the right side of the node, but when you drag it, it turns into an arrow labeled mask. If you cannot see the mask input, ensure that the <span class="_Override" style="font-weight: bold;">mask</span> control is disabled or set to <span class="_Override" style="font-weight: bold;">none</span>.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table cellpadding="0" cellspacing="0" style="border-spacing-x: 0;border-spacing-y: 0;border-collapse: collapse;border-color: black;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');caption-side: top;width: 100%;" class="TableStyle-Master_TableStyle" height="4503px">
                    <col width="100px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="100px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="100px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="362px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <thead>
                        <tr style="height: 23px;background-color: #cac8c9;" class="TableStyle-Master_TableStyle-Head-Header1">
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Control (UI)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Knob (Scripting)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Default Value</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadD-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Function</p>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Subheading" data-mc-pattern="6">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Subheading">
                                <p class="CellBody">Primatte Tab</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">foreground</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">foreground</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">rgb</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Channels from the <span class="_Override" style="font-weight: bold;">fg</span> input containing the image to key and composite.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">background</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">background</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">rgb</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Channels from the <span class="_Override" style="font-weight: bold;">bg</span> input to composite over, and to calculate the spill suppression.</p>
                            </td>
                        </tr>
                        <tr style="height: 277px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">crop</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">crop</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">The area of the input image you want to keep. Anything outside this box is cropped.</p>
                                <p class="CellBody">You can adjust the following:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">x</span> - the distance (in pixels) between the left edge of the original image and the left side of the crop box.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">y</span> - the distance (in pixels) between the bottom edge of the original image and the bottom edge of the crop box.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">r</span> - the distance (in pixels) between the left edge of the original image and the right side of the crop box.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">t</span> - the distance (in pixels) between the bottom edge of the original image and the top edge of the crop box.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">w</span> - the width of the crop box. This is only available if you click the <span class="_Override" style="font-weight: bold;">wh</span> button.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">h</span> - the height of the crop box. This is only available if you click the <span class="_Override" style="font-weight: bold;">wh</span> button.</p>
                                <p class="CellBody">You can also adjust the crop box in the Viewer by dragging its edges.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td rowspan="2" class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Enables the associated mask channel to the right. Disabling this checkbox is the same as setting the channel to <span class="_Override" style="font-weight: bold;">none</span>.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">none</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">The channel to use as a mask. By default, the Primatte effect is limited to the non-black areas of this channel.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">invert</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">invert_mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Inverts the use of the mask channel so that the Primatte effect is limited to the non-white areas of the mask.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Initialize</p>
                            </td>
                        </tr>
                        <tr style="height: 353px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">algorithm</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">algorithm</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">Primatte</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Choose which algorithm Primatte uses to calculate your keying result:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Primatte</span> - The Primatte algorithm delivers the best results and supports both the solid color and the complement color spill suppression methods. It is the algorithm that uses three multi-faceted polyhedrons (as described further down in the this chapter) to separate the 3D RGB colorspace. It is also the default algorithm mode and, because it is computationally intensive, it may take longer to render. </p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Primatte</span><span class="_Override" style="font-weight: bold;">RT</span> - is the simplest algorithm and therefore, the fastest. It uses only a single planar surface to separate the 3D RGB colorspace (as described further down in this chapter) and, as a result, does not have the ability to separate out the foreground from the backing screen as carefully as the above <span class="_Override" style="font-weight: bold;">Primatte</span> algorithm. Other disadvantages of the <span class="_Override" style="font-weight: bold;">Primatte RT</span> algorithm is that it does not work well with less saturated backing screen colors and it does not support the complement color spill suppression method. </p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Primatte RT+</span> - this is in between the above two options. It uses a six planar surface color separation algorithm (as described further down in this document) and delivers results in between the other two in both quality and performance. Other disadvantages of the <span class="_Override" style="font-weight: bold;">Primatte RT+</span> algorithm is that it does not work well with less saturated backing screen colors and it does not support the complement color spill suppression method.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">Reset</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">Reset</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Resets all of the Primatte properties to their initial values.</p>
                            </td>
                        </tr>
                        <tr style="height: 88px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">Auto-Compute</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">Auto-Compute</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">This can be used as the first step in the Primatte operation. Its purpose is to automatically detect the backing screen color, remove it, and do some clean-up on the foreground and background noise. If the clip was shot with an evenly lit, well-saturated backing screen, the <span class="_Override" style="font-weight: bold;">Auto-Compute</span> button leaves you with an image that may only need some spill removal to complete your keying operation.</p>
                            </td>
                        </tr>
                        <tr style="height: 73px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">viewer</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">viewer</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Opens a Primatte Viewer that displays a graphical representation of the Primatte algorithms and allows you to see what is happening as the various Primatte tools are used. It is a passive feature that has no adjustment capabilities, but it may prove useful in evaluating an image as you operate on it.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Degrain</p>
                            </td>
                        </tr>
                        <tr style="height: 153px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">type</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">graintype</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">none</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Select the type of degrain to use:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">none</span> - you get the color of the exact pixel sampled.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">small</span> - gets the average color of a small region of the area around the sampled pixel. Use this when the grain is very dense.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">medium</span> - gets the average color of a medium-sized region of the area around the sampled pixel. Use this when the grain is less dense.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">large</span> - gets the average color of a larger region of the area around the sampled pixel. Use this when the grain is very loose.</p>
                            </td>
                        </tr>
                        <tr style="height: 73px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">tolerance</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">graintolerance</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">0.2</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Increases the effect of the <span class="_Override" style="font-weight: bold;">Clean BG Noise</span> tool without changing the edge of the foreground object. This allows you to tell the Primatte algorithm what brightness of pixels you think represents grain. You should try not to use too high of a value; otherwise, it affects the overall matte.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Actions</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">operation</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">mode</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">Smart Select BG Color</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">What the colors you sample in the Viewer do:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Smart Select BG Color</span> - gets the sampled backing screen color, analyzes the original foreground image, and determines the foreground areas using the Primatte foreground detection routine. Then, using the newly determined foreground areas, performs a Clean FG Noise operation internally and renders the composite image.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Clean BG Noise</span> - removes noise from the background. Any pixels you sample in the Viewer are known to be 100% background. White noisy areas in the 100% background region become black.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Clean FG Noise</span> - removes noise from the foreground. Any pixels you sample in the Viewer are known to be 100% foreground. The color of the sampled pixels is registered by Primatte to be the same color as in the original foreground image. This makes dark gray areas in the 100% foreground region white.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>operation (continued)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">&#160;</td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">&#160;</td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Matte Sponge</span> - sets the sampled color in the image to be 100% foreground. However, if the sampled color is already keyed out and removed, it leaves the current suppressed color. It only affects the key or matte information. This tool is usually used to quickly remove stray transparent pixels that have appeared during the chroma keying procedure.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Make FG Trans.</span> - suppresses spill in foreground transparency. When this mode is selected, the opaque foreground color region sampled in the Viewer becomes slightly translucent. This operation is useful for the subtle tuning of foreground objects that are otherwise completely covered with smoke or clouds.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Restore Detail</span> - brings back detail to the foreground. The completely transparent background region sampled in the Viewer becomes translucent. This operation is useful for restoring lost hair details, thin wisps of smoke and so on.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Spill Sponge</span> - removes spill from a composite image. When this mode is selected, the background color component in the pixels sampled in the Viewer is keyed out and removed for the color region selected.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>operation (continued)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">&#160;</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">&#160;</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Spill(-)</span> - removes color spill from the sampled pixel color (and all colors like it) in the amount of one Primatte increment. If spill color remains, another click using this tool removes more of the color spill.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Spill(+) </span>- returns color spill to the sampled pixel color (and all colors like it) in the amount of one Primatte increment. This tool is used to move the sampled color more in the direction of the color in the original foreground image. It can be used to nullify a <span class="_Override" style="font-weight: bold;">Spill (-)</span> step.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Matte(-)</span> - reduces the opacity of the matte for the sampled pixel color <span class="_Override" style="line-height: 13pt;">(</span>and all colors like it) in the amount of one Primatte increment. If the matte is still too opaque, another click using this operational mode tool makes the sampled color region even more translucent. This can be used to thin out smoke or make a shadow thinner to match shadows in the background imagery.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Matte(+)</span> - increases the opacity of the matte for the sampled pixel color (and all colors like it) in the amount of one Primatte increment. If the matte is still too translucent or thin, another click using this operational mode tool makes the sampled color region even more opaque. This can be used to thicken smoke or make a shadow darker to match shadows in the background imagery. It can only make these adjustments to the density of the color region on the original foreground image. It can be used to nullify a<span class="_Override" style="font-weight: bold;"> Matte (-)</span> step.</p>
                            </td>
                        </tr>
                        <tr style="height: 44px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>operation (continued)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">&#160;</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">&#160;</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Detail(-)</b> - reduces foreground detail for the sampled pixel color (and all colors like it) in the amount of one Primatte increment. If detail is still missing, another click using this operational mode tool makes detail more visible. This can be used to restore lost smoke or wisps of hair.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Detail(+)</b> - increases foreground detail for the sampled pixel color (and all colors like it) in the amount of one Primatte increment. If there is still too much detail, another click using this operational mode tool makes more of it disappear. This can be used to remove smoke or wisps of hair from the composite. Sample where detail is visible and it disappears. This is for moving color regions into the 100% background region. It can be used to nullify a <b>Detail (-)</b> step.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Fine Tuning Sliders</b> - provides finer control over the removal of spilled background color. The color of the sampled pixel is registered as a reference color for fine tuning. To perform the tuning operation, select a Fine Tuning slider and move it to achieve the desired effect.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>3D Sample</b> - When viewer is enabled in the Primatte properties, the sampled colors are displayed as a spray of white pixels in the Primatte Viewer. This allows you to see where the selected backing screen colors reside within the 3D RGB colorspace.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Simple Select BG Color</b> - gets the sampled backing screen color, projecting a line in the opposite direction on the hue wheel and generating artificial pixels that may represent the FG object. Then, using the artificially generated foreground pixels, it performs a Clean FG Noise operation internally and renders the composite image.</p>
                            </td>
                        </tr>
                        <tr style="height: 44px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">
                                    <img src="../../assets/images/rg_images/color_picker.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.9997805px;margin-bottom: 1.000063px;" />
                                </p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">currentColor</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">black</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">To sample colors from the Viewer, make sure this is pushed in (displaying an eyedropper), then <span class="_Override" style="font-weight: bold;">Ctrl/Cmd</span>+click in the Viewer to pick single pixels, or <span class="_Override" style="font-weight: bold;">Ctrl/Cmd</span>+<span class="_Override" style="font-weight: bold;">Shift</span>+drag to pick a rectangle of pixels.</p>
                            </td>
                        </tr>
                        <tr style="height: 59px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">adjust lighting</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">adjustLighting</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When enabled, based on the currently selected BG color, Primatte generates a clean, evenly lit backing screen to use in the keying operation. This can improve the results if you have a very unevenly lit backing screen.</p>
                            </td>
                        </tr>
                        <tr style="height: 183px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">hybrid render</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">hybridRender</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When enabled, Primatte internally creates two keys from the same image: </p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">core</span> - This matte has the transparency removed, but suffers from the bad edges on the foreground object. </p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">edge</span> - This matte has a clean edge on the foreground, but suffers from transparency within the foreground object. </p>
                                <p class="CellBody">The <span class="_Override" style="font-weight: bold;">core</span> matte with the bad edges is then blurred and eroded before it is composited over the <span class="_Override" style="font-weight: bold;">edge</span> matte that has the transparency, resulting in a composite with the best of both options.</p>
                                <p class="CellBody">This can help you deal with foregrounds that contain a color that is close to the backing screen color.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Adjust Lighting</p>
                            </td>
                        </tr>
                        <tr style="height: 59px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">threshold</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">lightingSPoly</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">10</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">adjust lighting </span>is enabled, determines if a grid pixel should be treated as a pure background sample, a simulated background sample, or a foreground sample. Increasing the value brings more of the foreground into the adjusted lighting.</p>
                            </td>
                        </tr>
                        <tr style="height: 44px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">grid size</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">lightingGridSize</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">12</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">adjust lighting </span>is enabled, sets the grid size used. Increasing this value increases the grid resolution used in the adjusted lighting calculation.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Hybrid Matte</p>
                            </td>
                        </tr>
                        <tr style="height: 44px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">erode</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">hybridErode</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">5</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">hybrid render</span> is enabled, sets the amount of erosion performed on the <span class="_Override" style="font-weight: bold;">core</span> matte. To view the results, set <span class="_Override" style="font-weight: bold;">output mode</span> to <span class="_Override" style="font-weight: bold;">hybrid core</span> and view the alpha channel.</p>
                            </td>
                        </tr>
                        <tr style="height: 44px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">blur radius</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">hybridBlurRadius</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">0.5</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">hybrid render</span> is enabled, sets the blur radius used when blurring the <span class="_Override" style="font-weight: bold;">core</span> matte. To view the results, set <span class="_Override" style="font-weight: bold;">output mode</span> to <span class="_Override" style="font-weight: bold;">hybrid edge</span> and view the alpha channel.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Fine Tuning</p>
                            </td>
                        </tr>
                        <tr style="height: 73px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">L-poly (spill)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">spill</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Adjust boundary between spill-suppressed opaque foreground and no-change opaque foreground. The more to the right the slider moves, the more spill is removed. The more to the left the slider moves, the closer the color component of the selected region is to the color in the original foreground image. </p>
                            </td>
                        </tr>
                        <tr style="height: 59px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">M-poly (trans)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">matte</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Adjust boundary between partially transparent foreground and fully opaque foreground. Moving this slider to the right makes the registered color region more transparent. Moving the slider to the left makes the matte more opaque.</p>
                            </td>
                        </tr>
                        <tr style="height: 59px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">S-poly (detail)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">detail</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Adjust boundary between completely transparent background and partially translucent foreground. Moving this slider to the right makes the registered color region more visible. Moving the slider to the left makes the color region less visible.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Spill Process</p>
                            </td>
                        </tr>
                        <tr style="height: 153px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">replace with</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">spillProcess</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">complement</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">The color spill replacement method to use:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">no suppression</span> - no spill suppression is applied.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">complement</span> - replaces the spill color with the complement of the backing screen color.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">solid color</span> - replaces the spill color with a solid color of your choice. Use <span class="_Override" style="font-weight: bold;">replace color</span> below to choose the color.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">defocused background</span> - replaces the spill color with colors from a defocused version of the background image. Use <span class="_Override" style="font-weight: bold;">defocus</span> to adjust the amount of defocus applied to the background buffer image.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">replace color</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">replaceColor</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p class="CellBody">0.18</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">replace with</span> is set to <span class="_Override" style="font-weight: bold;">solid color</span>, allows you to select a solid color to use to replace the spill.</p>
                            </td>
                        </tr>
                        <tr style="height: 29px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">defocus</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">defocus</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">10</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">When <span class="_Override" style="font-weight: bold;">replace with</span> is set to <span class="_Override" style="font-weight: bold;">defocused background</span>, sets the amount to defocus the background for spill process.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="CellBody">Output</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">output mode</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">output_mode</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">composite</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p class="CellBody">Determines what the output from the node should be:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">composite</span> - premultiplies the foreground with the background based on the matte created. This is your final result.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">premultiplied</span> - outputs the premultiplied result of the Primatte node, along with the calculated matte. This can be useful if you want to do your compositing using a Merge node (with <span class="_Override" style="font-weight: bold;">operation</span> set to <span class="_Override" style="font-weight: bold;">over</span>) rather than Primatte. This allows you to color correct, transform, and otherwise process your image before compositing it over the background. Note, however, that Primatte works within the sRGB colorspace, whereas Nuke works within a linear colorspace. This means you need to add a Colorspace node after both Primatte and your original background image to convert their colorspaces to sRGB, then do your color corrections or transforms, merge the images together, and, finally, use another Colorspace node to convert the result back to linear.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">unpremultiplied</span> - outputs the unpremultiplied result of the Primatte node, along with the calculated matte. This can be useful if you want to do your compositing using a Merge node (with <span class="_Override" style="font-weight: bold;">operation</span> set to <span class="_Override" style="font-weight: bold;">matte</span>) rather than Primatte. This allows you to color correct, transform, and otherwise process your image before compositing it over the background. Note, however, that Primatte works within the sRGB colorspace, whereas Nuke works within a linear colorspace. This means you need to add a Colorspace node after both Primatte and your original background image to convert their colorspaces to sRGB, then do your color corrections or transforms, merge the images together, and, finally, use another Colorspace node to convert the result back to linear.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>output mode (continued)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">&#160;</td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">&#160;</td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">not</span><span class="_Override" style="font-weight: bold;">premultiplied</span> - outputs the original foreground pixels (instead of the result of the Primatte node), along with the calculated matte.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">adjust lighting FG</span> - outputs the light-adjusted foreground that the adjust lighting mode creates (this has a more even shade of the backing color with the foreground object). If adjust lighting is disabled, this option simply displays the un-optimized, original foreground image.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">adjust lighting BG</span> - outputs the optimized artificial backing screen that the adjust lighting mode creates (a clean backing screen that has no foreground object).</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">hybrid core</span> - outputs the internally generated core matte, used when hybrid render is enabled.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">hybrid edge</span> - outputs the internally generated edge matte, used when hybrid render is enabled.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p class="CellBody">output</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p class="CellBody">output</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p class="CellBody">rgba</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
                                <p class="CellBody">The channels to write the output image to.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesUGContent">Step-by-Step Guides</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <p><a href="../../comp_environment/keying_with_primatte/keying_primatte.html" class="MCXref xref"><span style="color: #00b4e0;" class="mcFormatColor">Keying with Primatte</span></a> (User Guide instructions)
                </p>
                <p><a href="../../getting_started/tutorial3/keying_primatte.html" class="MCXref xref"><span style="color: #00b4e0;" class="mcFormatColor">Keying with Primatte</span></a> (a written tutorial)
                </p>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesVideoContent">Video Tutorials</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Nuke 7.0 - Primatte 5</a></span>
                    <div class="MCDropDownBody dropDownBody"><iframe src="https://player.vimeo.com/video/69180718?color=f9b41b;byline=0;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
                        <p><a href="https://vimeo.com/69180718" target="_blank">NUKE 7.0 - Primatte 5</a> from <a href="https://vimeo.com/thefoundry" target="_blank">Foundry</a> on <a href="https://vimeo.com/" target="_blank">Vimeo</a>.</p>
                    </div>
                </div>
                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Keying - Step Up to Nuke Tutorial 8</a></span>
                    <div class="MCDropDownBody dropDownBody"><iframe src="https://player.vimeo.com/video/62691968?color=f9b41b;byline=0;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
                        <p><a href="https://vimeo.com/62691968" target="_blank">Keying</a> from <a href="https://vimeo.com/thefoundry" target="_blank">Foundry</a> on <a href="https://vimeo.com/" target="_blank">Vimeo</a>.</p>
                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesTranscribedContent">Transcription</span></a></span>
                            <div class="MCDropDownBody dropDownBody">
                                <p>One important task of compositing is the removal of bluescreen or greenscreen. Nuke provides a wide variety of keyers for this task. I am going to go through several of these very briefly just so you have an introduction. I have brought in two pieces of footage to try this on. There is a greenscreen of the man that we used previously and there is also a still image of a house. It just has a bright sky and, even though there is no green or blue in this particular photo, you can still use keyer tools to attack the sky and remove it. You can reach the keyer tools through the <b>Keyer</b> menu.</p>
                                <p>I am going to start with the simplest one, which is called Keyer. Now, even though it doesn’t have a lot of options, it is great for certain circumstances like this. I am going to drop down the <b>A</b> pipe between the Merge and the Read node. The Keyer has several operations, one of which is   <b>luminance key</b>, which is default. You can also target certain colors like green, or certain properties like saturation. We will leave it at luminance for now. There is also a graph here, which represents the operation values. For example, this graph represents luminance, as it runs from 0 towards 1, or the maximum. There are also four yellow bars here: <b>A</b>, <b>B</b>, <b>C</b>, and <b>D</b>. You can click-and-drag those interactively. Now <b>B</b> and <b>C</b> are overlapping at the start, but you can separate them. As soon as I move these, the alpha matte will start to be formed. Let’s go take a look at that. I am going to go into the Viewer and press the <b>A</b> key; there’s the alpha channel. What this signifies is any pixel with a luminance value between B and C becomes opaque. Any pixel value that had a luminance between C and D, or B and A, has a tapering value somewhere between opaque and transparent. So, in this situation, what I can do is move B and A towards the far-left, and then adjust C and D to make the sky mostly transparent. For example, what this means is any pixel with a luminance value over 0.9 becomes 100% transparent, or if a pixel has a luminance value between 0.8 and 0.9 has tapering transparency.</p>
                                <p>Let’s go back to rgb. Press the <b>A</b> key again, and there we go. Now, it doesn’t look like anything is happening right now. What you have to do with the Keyer is premultiply the alpha. So, I will select the Keyer node, right-mouse-button-click, <b>Merge</b> &gt; <b>Premult</b>. Premult multiplies the alpha values by the rgb values. Once I add this, the sky is removed. Now I can test this further. I can hook something up to the <b>B</b> pipe of the Merge. For example, I can right-mouse-button-click, and go to <b>Image</b> &gt; <b>Constant</b>. Constant will produce a solid color - I will hook that up to the <b>B</b> pipe. Then go to the color wheel for that node and pick a color, like light blue. The sky is gone and now the Constant appears in the sky area.</p>
                                <p>Let’s move on to some other keyers. I am going to go back to the greenscreen footage. Now, in fact, you can have more than one Viewer in any project. You can make a new Viewer at any time by going to the <b>Viewer</b> &gt; <b>Create New Viewer</b> (<b>Ctrl</b>/<b>Cmd</b>+<b>I</b>). If you have more than one Viewer, you can switch between them by clicking the tabs. So now, we are going to work on this greenscreen. The first keyer we will try here is Keylight, so <b>Keyer</b> &gt; <b>Keylight</b>. Foundry writes Keylight and, in fact, it is available in other compositing packages like After Effects, the functionality is the same. It looks a little intimidating at the start because of all the inputs. What you have to do is plug the <b>Source</b> into the greenscreen, in this case, the <b>A</b> pipe into the output.  Now there are many options you can adjust. I am going to adjust the basic ones you need to remove the greenscreen. The first thing to do is select the <b>Screen Colour</b>. You can click the swatch here, get the eyedropper, and go back to the Viewer. There are several ways to sample pixels with the eyedropper. You can <b>Ctrl</b>/<b>Cmd</b>+click or <b>Ctrl</b>/<b>Cmd</b>+drag your mouse. I will try the drag, so click+drag, let go - the screen color is sampled and you will see it right here in the swatch, and also beside the <b>Screen Colour</b> property. Let’s take a look at the alpha. Now, Keylight offers this <b>View</b> menu, which you can change from <b>Final Result</b> to <b>Combined Matte</b>. That’s what the alpha channel looks like, so right now there is some gray in the transparent area. What you can do is raise the <b>Clip Black</b> to erode that. What the <b>Clip Black</b> does is it looks for any pixel less than the slider and it makes it 100% transparent. There is also some gray in the white area. You can lower <b>Clip White</b> to make them more opaque, and now the matte looks pretty good. Once the matte looks good, you can return the <b>View</b> to <b>Final Result</b>. Now, to test that, I will disconnect the Constant over here, and plug it into the <b>B</b> pipe here. There we go, that’s pretty successful. Let’s try another keyer. I am going to disconnect Keylight, disconnect constant, and move that aside.</p>
                                <p>Now we will try Primatte. Primatte has been updated for Nuke 7, so now it’s even more powerful. In this case, I need to hook the <b>fg</b> or foreground to the greenscreen and then the output to the <b>A</b> pipe. Primatte has a very powerful button called <b>Auto-Compute</b>. If you click that, it will attempt to identify the screen color and remove it. In fact, it does a really good job right off the bat. Let’s see what the alpha looks like. I will press the <b>A</b> key again, and there it is. Again, there is some noise around the edges. Fortunately, Primatte offers a long list of operations you can use to clean up the matte. For example, I can switch this menu to <b>Clean BG Noise</b>. Now I will zoom in, and now, I can sample those pixels that are too gray. Another way to sample is to <b>Ctrl</b>/<b>Cmd</b>+<b>Shift</b> and draw a marquee box around the problem area that samples a whole bunch of pixels at once.</p>
                                <p>So now the edges are looking better, but there is still some gray on his jacket. We can then switch the menu to <b>Clean FG Noise</b> and then sample those pixels. Now that becomes more opaque. Let’s take a look at the rgb again. Press the <b>A</b> key - there it is. It looks pretty clean, however, there is a lot of green spill from the greenscreen in his clothing. In that case, I can go to <b>Spill Sponge</b> and sample those pixels to pull the green back out. There it goes. Now it’s not perfect yet, but you can see how quickly you can move the green. Let’s go ahead and plug in the Constant though and see what that looks like. Alright, let's move on to one more keyer. I will disconnect this one, move it aside.</p>
                                <p>Now we are going to try the IBKGizmo and IBKColor: two nodes that are designed to work together to tackle greenscreen or bluescreen. So <b>Keyer</b> &gt; <b>IBKColour</b> and <b>Keyer</b> &gt; <b>IBKGizmo</b>. Now, the connections here are a little bit more complicated. Basically, the <b>1</b> input for the IBKColor goes into the greenscreen, as does the <b>fg</b> for the IBKGizmo. Then the <b>c</b>, or color input pipe for the IBKGizmo, goes to the IBKColor node. Then the <b>A</b> pipe for the Merge goes to the output of the IBKGizmo. Let’s take a look at the options. The first thing to change is the <b>screen type</b> for the IBKColor node. It is set to <b>blue</b> by default, but you can change it to <b>green</b>. That looks a little funny here in the Viewer, but what I can do to see what the IBKColor node is doing is plug the Viewer into that node. Here, it’s targeting the color green; whatever color is not green it’s removing. Now the aggressiveness of the removal is controlled by the <b>size</b> slider. If I increase that, there is more averaging and there is fewer and fewer non-green colors. Let’s plug the Viewer back into the IBKGizmo. The color information is passed from the IBKColor node to the IBKGizmo node, which the IBKGizmo node turns into a matte. Now the first thing you need to do with the IBKGizmo is make sure the <b>screen type</b> is set to the same color, in this case, <b>green</b>. Let’s plug the Constant into the <b>B</b> pipe and put the Viewer back to the Merge node, and there we go - successful greenscreen removal.</p>
                                <p>Now, I know all of these keyers have numerous options, which we didn't talk about. This is just to give you a brief introduction and to show you there is a wide range of keyers to tackle pretty much any type of footage.</p>
                                <p>“Tears of Steel” footage courtesy (CC) Blender Foundation - <a href="http://mango.blender.org/">mango.blender.org</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>