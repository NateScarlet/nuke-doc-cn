<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Reference Guide|Ocula 3.0 Nodes">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>O_Solver</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/master_tablestyle.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#reference_guide/ocula_nodes/o_solver.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h1>O_Solver</h1>
        <p>The O_Solver plug-in defines the geometric relationship between the two views in the input images (that is, the camera relationship or solve). This is necessary if you want to use DisparityGenerator, VectorGenerator, or VerticalAligner down the tree.</p>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesRGContent">Inputs and Controls</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <table cellpadding="0" cellspacing="0" style="border-spacing-x: 0;border-spacing-y: 0;border-collapse: collapse;border-color: black;caption-side: top;width: 100%;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');" class="TableStyle-Master_TableStyle" height="141px">
                    <col width="105px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="120px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="436px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <thead>
                        <tr style="height: 23px;background-color: #cac8c9;" class="TableStyle-Master_TableStyle-Head-Header1">
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Connection Type</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Connection Name</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadD-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Function</p>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td rowspan="3" class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p class="CellBody">Input</p>
                                <p>&#160;</p>
                                <p>&#160;</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Camera</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>A pretracked Nuke stereo camera that describes the camera setup used to shoot the <b>Source</b> image. This can be a camera you have tracked with the CameraTracker node or imported to Nuke from a third-party camera tracking application. This input is optional.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Ignore</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>A mask that specifies areas to ignore during the feature detection and analysis. This can be useful if an area in the <b>Source</b> image is producing incorrectly matched features. This input is optional.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p>Source</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
                                <p>A stereo pair of images. These can either be the images you want to work on, or another pair of images shot with the same camera setup.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table cellpadding="0" cellspacing="0" style="border-spacing-x: 0;border-spacing-y: 0;border-collapse: collapse;border-color: black;caption-side: top;width: 100%;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');" class="TableStyle-Master_TableStyle" height="603px">
                    <col width="100px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="117px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="108px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <col width="364px" class="TableStyle-Master_TableStyle-Column-Column1" />
                    <thead>
                        <tr style="height: 23px;background-color: #cac8c9;" class="TableStyle-Master_TableStyle-Head-Header1">
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Control (UI)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Knob (Scripting)</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Default Value</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-HeadD-Column1-Header1" style="font-weight: bold;">
                                <p class="CellHeading">Function</p>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Subheading" data-mc-pattern="6">
                            <td colspan="4" class="TableStyle-Master_TableStyle-BodyD-Column1-Subheading">
                                <p>O_Solver Tab</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Views to Use</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>viewPair</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Dependent on source</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Sets the two views you want to use to calculate the features and the camera relationship. These views are mapped for the left and right eye. </p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1" colspan="4">
                                <p colspan="4">Analysis</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Analysis Key</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>analysisKeyframe</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Displays set keyframes from which O_Solver does the feature matching and analysis. The solves for all other frames are created by interpolating between the results on the keyframes on either side.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Add Key</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>addAnalysisKey</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>Click to add an analysis keyframe at the current frame.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Delete Key</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>deleteAnalysisKey</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">Click to delete an analysis keyframe at the current frame.</td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Delete All</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>deleteAnalysisKeys</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">Click to delete all analysis keyframes.</td>
                        </tr>
                        <tr class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Single Solve From All Keys</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>singleSolve</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>disabled</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>When enabled, O_Solver calculates a single solve using all the keyframes you have set. Use this for rigs that don’t change over time to get more accurate results than when using a single keyframe.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1" colspan="4">
                                <p colspan="4">Features</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Mask</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>ignore</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>None</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Set the mask type to exclude areas of the sequence:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>None</b> - none of the footage is ignored.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Source Alpha</b> - use the alpha channel of the source clip to define which areas to ignore.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Source Inverted Alpha</b> - use the inverted alpha channel of the source clip to define which areas to ignore.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Mask Luminance</b> - use the luminance of the Mask input to define which areas to ignore.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Mask Inverted Luminance</b> - use the inverted luminance of the Mask input to define which areas to ignore.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Mask Alpha</b> - use the Mask input alpha channel to define which areas to ignore.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Mask Inverted Alpha</b> - use the inverted Mask input alpha channel to define which areas to ignore.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Number</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>numberFeatures</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>1000</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>Sets the number of features to detect in each image and match between views.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Threshold</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>featureThreshold</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>0</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Sets the threshold to select features in an image. Use a high value to select prominent points. Use a low value to spread features out across the image.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Separation</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>featureSeparation</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>2</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p><span class="_Override" style="font-weight: normal;">Sets a required feature separation to force detected features to cover the image.</span>
                                </p>
                                <p>It is important that the features do not cluster together. If you set <b>Display</b> to <b>Keyframe Matches</b> and see that this is the case, try increasing this value.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2" colspan="4">
                                <p colspan="4">Display</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Display</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>displayType</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Nothing</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>Sets the display mode:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Nothing</b> - only show the <b>Source</b> image.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Keyframe Matches</b> - show the features and matches for the camera relationship calculation in a Viewer overlay. </p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Preview Alignment</b> - Preview how well the calculated feature matches describe the alignment of the stereo camera. </p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Alignment Method</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>alignmentMethod</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Vertical Skew</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Sets the alignment method to use to align the views when <b>Display</b> is set to <b>Preview Alignment</b>:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Vertical Skew</b> - align the features along the y axis using a skew. This does not move the features along the x axis.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Perspective Warp</b> - do a four-corner warp on the images to align them on the y axis. This may move the features slightly along the x axis.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Rotation</b> - align the features vertically by rotating the entire image around a point. The centre of the rotation is determined by the algorithm.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Scale</b> - align the features vertically by scaling the image.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Simple Shift</b> - align the features vertically by moving the entire image up or down.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Scale Rotate</b> - align the features vertically by simultaneously scaling and rotating the entire image around a point. The centre of the rotation is determined by the algorithm.</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><b>Camera Rotation</b> - align the features by first performing a 3D rotation of both cameras so that they have exactly the same orientation and a parallel viewing axis, and then reconverging the views to provide the original convergence. For best results, use the <b>Camera</b> input to provide the information for the shooting cameras.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>Match Offset</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>offset</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                                <p>100</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                                <p>Sets offset (in pixels) applied to the aligned feature matches. You can:</p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>increase this value to artificially increase the disparity, so it’s easier to see how horizontal the feature matches are. Any matches that aren’t horizontal can be considered poor matches and deleted manually. </p>
                                <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>decrease this value to set the disparity of particular matches to zero and examine the vertical offset at each feature. The matches should sit on top of each other. If they are vertically offset, you know they’re poor and can delete them manually.</p>
                                <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>The <b>Match Offset</b> control is only available when <b>Display</b> is set to <b>Preview Alignment</b>. </p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Error Threshold</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>alignmentError</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>10</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Sets the threshold on the vertical alignment error in pixels. When <b>Display</b> is set to <b>Preview Alignment</b>, any matches with a vertical error greater than the threshold are selected in the Viewer. This allows you to easily delete poor matches with large errors when previewing alignment at keyframes.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1" colspan="4">
                                <p colspan="4">Current Frame</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body2">
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>Re-analyse Frame</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>resetFrame</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                                <p>N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                                <p>Click to clear the automatic feature matches from the current frame and recalculate them. This can be useful if there have been changes in the node tree upstream from O_Solver, you have deleted too many automatic feature matches, or you want to calculate the automatic matches based on any user matches you have created.</p>
                            </td>
                        </tr>
                        <tr style="height: 15px;" class="TableStyle-Master_TableStyle-Body-Body1">
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p>Delete User Matches</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p>deleteUserMatches</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                                <p>N/A</p>
                            </td>
                            <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
                                <p>Click to delete all feature matches you have manually added to the current frame.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesVideoContent">Video Tutorials</span></a></span>
            <div class="MCDropDownBody dropDownBody">
                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadNoBold"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Ocula 3.0 - Solver</a></span>
                    <div class="MCDropDownBody dropDownBody"><iframe src="https://player.vimeo.com/video/33670298?color=f9b41b;byline=0;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
                        <p><a href="https://vimeo.com/33670298" target="_blank">OCULA 3.0 - Solver</a> from <a href="https://vimeo.com/thefoundry" target="_blank">Foundry</a> on <a href="https://vimeo.com/" target="_blank">Vimeo</a>.</p>
                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead dropDownHeaddropDownHeadIndented"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" /><span class="Master_VariablesTranscribedContent">Transcription</span></a></span>
                            <div class="MCDropDownBody dropDownBody">
                                <p>Welcome to Ocula from Foundry, my name is Jon, and in this tutorial we're taking a look at QCing (quality-checking) the Solver node in Ocula 3.0. The Solver node sits at the top of Ocula trees, and it calculates the stereo geometry for the input plates for use by the other Ocula nodes.</p>
                                <p>So this is a script to do some retiming. At the top, I have got a Solver node. It’s calculating the stereo geometry for these plates and delivering that as hidden metadata downstream to my other Ocula nodes I am using here. So I am doing some plate preparation, I’m doing some color matching, vertical alignments, calculating disparity, baking that out, and also calculating motion vectors to do a retime. The alignment data for the plates is calculated by a Solver, and delivered downstream for use by the DisparityGenerator to calculate disparity vectors for that alignment. And also that’s delivered to the Aligner, to update the alignment of the plates so they are aligned horizontally. You will notice that many Ocula nodes have a separate <b>Solver</b> input, so you can pipe that metadata down through different streams.</p>
                                <p>If we have a look at the Solver node in this script, we will see that some analysis keys have been created on the timeline. The Solver calculates the stereo geometry at these keyframes, and it interpolates it in between them. It does this by matching the input left and right images at feature points. So if I switch to look at those, it calculates features in the left eye and matches them to the right eye. And it uses that data internally to calculate an internal camera rig and alignment data for the plates that’s delivered downstream. So let’s have a look at setting up the analysis keys and setting up the Solver node. In the Solver node, you can define which views to use for left and right, you can define analysis keys, you can define how features are detected and matched at the keys, you can define the display which you use to QC the feature matches that have been created, and you can also re-analyze or delete matches. The first thing to do is to add an analysis key to your shot. If the rig is fixed, there’s no change in convergence, interaxial focal length, then you can use the single analysis key. The way I work is, I look for a frame where there’s lots of nice texture in the image for the feature matching. So, the first frame has a lot of blank bluescreen, and it’s going to be difficult to pick up features on. The last frame has something a bit more interesting, more textures here to pick up features and to match them. So let’s add an analysis key here. If I press <b>M</b> and switch the <b>Display</b> to <b>Keyframe Matches</b>, it’s showing the features it picked up on the left image and the right image and matched between the two. So these feature matches are used to calculate the stereo geometry and the alignment data delivered downstream. I can QC these feature matches by hitting <b>P</b> to switch the <b>Display</b> to <b>Preview Alignment</b>. It’s now applied the alignment data it’s calculated to those feature matches, so in the original matches you can see some vertical offset between the left and right eye. Let's now apply that alignment data, so the offset is now horizontal. If there are any feature matches that aren't horizontal, they are likely to be bad matches. There’s a <b>Threshold</b> here you can tune to pick out those bad matches automatically, so if I set that to something reasonable and have a look at some of these matches it’s highlighted, if I flick between the left and right eye, you can see them switching up and down. I can hit the <b>Delete</b> key to delete all of those bad matches automatically. Alternatively, you can actually look at all of the individual matches and examine them, see which ones are bad yourself, select them, and delete. There are some parameters you can tune. You can use a <b>Mask</b> input on a node to ignore particular areas. You can define the number of features it’s going to detect and try and match between left and right eye. I tend to leave this at 1000, but you can switch it up to maybe 3000 if you want lots and lots of features. Or if you use a lot of user matches, you can turn that down. The <b>Threshold</b> and <b>Separation</b> generally don’t need to be tuned, but you can play with them if you want.</p>
                                <p>Now you can use user-defined matches to lock down the alignment of your plate, so here let’s delete this automatic match. I can go in and I can add a user-defined match (<b>Add feature</b>), switch eyes, put it in the right place, and check it. This user-defined feature match is given a lot more weighting in the calculation of the stereo geometry. So if I preview the alignments, that’s now perfectly horizontal, and any bad automatic matches around it will be highlighted when I preview that alignment. So for example, if I was worried about all of these automatic matches here and I wanted to check they were ok, I could go in and I can add a user-defined match and put it in exactly the right place - you should be very careful about this. You can then switch back to previewing the alignment and seeing which of the automatic matches have been kicked out of place. Now I can delete those automatic bad matches. It’s recalculated the alignment so it’s got a new set of matches that are outside my threshold, and I can delete again to remove those. So if you want to add user matches, you can add them and they give an extra weighting in the calculation of alignment in stereo geometry.</p>
                                <p>I actually used three keyframes to pick up any variations in the stereo rig over the timeline, so let’s just add keys at two more frames. New key, these are the matches, I hit P to preview the alignment, hit the <b>Delete</b> key to remove the bad matches automatically, and then I want to add one final keyframe. Let’s add that now, preview matches, look at the alignment, set the <b>Threshold</b>, and delete the automatic matches outside that threshold. There we go, I have three matches and I have previewed the alignment, so I have quality-checked the alignment data delivered downstream directly in the Solver node.</p>
                                <p>OK, let’s have a look at a few tips and tricks in setting up the Solver node. In this shot, the camera rig is actually changing over time. If you have any metadata about the interaxial convergence, you can look at that to see where the stereo geometry changes and where you need to set down new analysis keys in the Solver to pick up the new stereo geometry. But if you don’t have that metadata, you can still use the <b>Preview Alignment</b> in the Solver to test when the stereo alignment changes. So let’s see how we can do that for this shot. I’m going to add an <b>Analysis Key</b> at the first frame here. Preview the alignment, and delete the bad matches. I am then going to leave the <b>Display</b> on <b>Preview Alignment</b> and switch to a new frame to check how that alignment data I have calculated on my keyframe works on the new frame. And you can see that the alignment of all feature matches is now wrong. The stereo geometry has changed over time, so I’m going to work my way back to find where the camera rig changes. So here the alignment is pretty consistent, there are a few bad matches, but I am going to keep that frame and continue working forwards. Let’s check that on a new frame. It looks reasonable. Let’s go a bit further forwards. Still reasonable. Let’s check frame 100. OK, the geometry has definitely changed. I am going to <b>Add Key</b>. I have corrected the alignment data. Let’s work back to see if that has worked on the in-between frames. The geometry has changed in between. We need to add a new key to correct that line of data. Let’s see if it’s changed in between. This looks good. Let’s continue working forwards. The geometry has changed, so I need to add a new key. Let’s check in between. This looks like it might be OK, but actually there is a general shift in all of the feature matches in a particular direction. You can see they are all slightly moved vertically upwards, so I think the geometry is changing very slightly here and I am going to Add Key to make sure I have locked down that alignment data. Now, we have got great alignment again, and you can move forwards across the timeline to define all of the keys you need.</p>
                                <p>You can tune the input to O_Solver to help it with the feature matching. In this shot, there are dark areas of the image which are hard to pick up and match features on. So if we added a key on this frame, you can see it’s picked up feature matches in the central, bright, and well-textured region. So I have just changed the colorspace to a Log space - you could use Cineon or something like that to pull up those dark regions. And if we re-match that frame, I am going to <b>Re-analyse Frame</b>. You can see now it’s picked up feature matches in those relatively dark regions. This is good because it has spread out the feature matching across the whole image. So feel free to tune the input to get good feature matches as long as you don't change the location of where it picks up the features, so you don’t change the alignment data that it calculates.</p>
                                <p>You can also calculate solves from separate footage. Here we have a fixed camera rig, and we have shot a separate bit of footage of a well-lit region that’s nicely textured. The feature points here are going to be well-defined, so we can get a good solve for the stereo geometry. And as the camera is fixed, I have pulled in several analysis keys here and I have selected <b>Single Solve From All Keys</b>. It’s going to pull all the keyframes together to deliver an even better calculation of the stereo geometry, and you can pipe that into the <b>Solver</b> input of other Ocula nodes. So here, if I wanted to calculate the disparity for this shot, I can pull in the stereo geometry from this shot by putting the Solver into the <b>Solver</b> input of the DisparityGenerator.</p>
                                <p>Finally, if you have a match-move for your shot, you can pull that camera data into the Solver node. O_Solver has a <b>Camera</b> input that you can connect to your match-moved cameras. And when you calculate a keyframe now, it will pull in that exact stereo geometry and use it in the feature matching. It will also deliver that stereo geometry downstream to the other Ocula nodes in your tree.</p>
                                <p>So that wraps up this tutorial. We have covered setting up and quality-checking analysis keys. We have also looked at some tricks to test changes in stereo geometry, tuning the input footage to get the best out of feature matching, as well as using separate footage for your solves, and finally using match-moved cameras.</p>
                            </div>
                        </div>
                        <p>
                            <!-- This version of the embed code is no longer supported. Learn more: https://vimeo.com/help/faq/embedding -->
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>