<!DOCTYPE html>
<html data-mc-help-system-file-name="Default.xml" data-mc-in-preview-mode="false" data-mc-path-to-help-system="../../../" data-mc-preload-images="false" data-mc-runtime-file-type="Topic" data-mc-search-type="Stem" data-mc-target-type="WebHelp2" data-mc-toc-path="Compositing with Nuke|Filtering and Spatial Effects" lang="en-us" xml:lang="en-us" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
 <head>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   应用卷积
  </title>
  <link href="../../../skins/default/stylesheets/Slideshow.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet"/>
  <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet"/>
  <script src="../../../Resources/Scripts/custom.modernizr.js">
  </script>
  <script src="../../../Resources/Scripts/jquery.min.js">
  </script>
  <script src="../../../Resources/Scripts/require.min.js">
  </script>
  <script src="../../../Resources/Scripts/require.config.js">
  </script>
  <script src="../../../Resources/Scripts/foundation.min.js">
  </script>
  <script src="../../../Resources/Scripts/plugins.min.js">
  </script>
  <script src="../../../Resources/Scripts/MadCapAll.js">
  </script>
  <script src="../../assets/stylesheets/load.js">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop">
   <a href="../../../Default.html#comp_environment/filters/applying_convolves.html">
    用导航打开主题
   </a>
  </p>
  <script>
   /* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */
  </script>
  <div class="nocontent">
   <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-count="3" data-mc-breadcrumbs-divider=" &gt; " data-mc-toc="True">
    <span class="MCBreadcrumbsPrefix">
     你在这里:
    </span>
   </div>
  </div>
  <h1>
   应用卷积
  </h1>
  <p class="afterHead">
   “卷积” 节点允许您通过提供自己的滤镜图像来创建自定义滤镜效果。此图像用作卷积矩阵。换句话说，像素的新值是通过将过滤器图像集中在像素上，检查其邻居，将每个像素值乘以过滤器图像中相应的像素值来计算的, 然后将结果相加。这允许您取消剪辑的焦点，并在滤镜图像的形状中创建镜头模糊效果 (散景) (另请参见
   <a class="noPage MCXref xref xrefnoPage" href="applying_blurs.html">
    <span class="mcFormatColor" style="color: #00b4e0;">
     仿真景深模糊
    </span>
   </a>
   )。
  </p>
  <table style="caption-side: top;">
   <col style="width: 5cm;"/>
   <col style="width: 5cm;"/>
   <tbody>
    <tr>
     <td>
      <p class="graphic">
       <img src="../../assets/images/ug_images/convolve_before.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198649px;margin-bottom: 0.9997767px;"/>
      </p>
     </td>
     <td>
      <p class="graphic">
       <img src="../../assets/images/ug_images/convolve_shape.png" style="margin-left: 16.35987px;margin-top: 1.000063px;margin-right: 14.91986px;margin-bottom: 0.9997767px;"/>
      </p>
     </td>
    </tr>
    <tr>
     <td class="caption">
      的
      <span class="_Override" style="font-weight: bold;">
       图像
      </span>
      输入。
     </td>
     <td class="caption">
      的
      <span class="_Override" style="font-weight: bold;">
       过滤器
      </span>
      输入。
     </td>
    </tr>
   </tbody>
  </table>
  <table style="caption-side: top;">
   <col style="width: 5cm;"/>
   <tbody>
    <tr>
     <td>
      <p class="graphic">
       <img src="../../assets/images/ug_images/convolve_after.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198649px;margin-bottom: 0.9997767px;"/>
      </p>
     </td>
    </tr>
    <tr>
     <td class="caption">
      结果。
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   使用卷积节点
  </h2>
  <p class="afterHead">
   要使用卷积节点:
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      1。
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="1.  " valign="top">
     单击
     <span class="_Override" style="font-weight: bold;">
      过滤器
     </span>
     &gt;
     <span class="_Override" style="font-weight: bold;">
      旋转
     </span>
     要在要接收卷积滤镜效果的图像后插入卷积节点 (
     <span class="_Override" style="font-weight: bold;">
      图像
     </span>
     输入)。
    </td>
   </tr>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      2.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="2.  " valign="top">
     将查看器附加到卷积节点的输出。
    </td>
   </tr>
  </table>
  <p class="numberedCont">
   查看器中出现错误，因为我们没有连接
   <span class="_Override" style="font-weight: bold;">
    过滤器
   </span>
   输入。
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      3.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="3.  " valign="top">
     将过滤器图像连接到
     <span class="_Override" style="font-weight: bold;">
      过滤器
     </span>
     输入。此图像代表用于拍摄的相机光圈的形状和大小
     <span class="_Override" style="font-weight: bold;">
      图像
     </span>
     输入。它可以是你喜欢的任何形状，例如五角大楼或六边形。
    </td>
   </tr>
  </table>
  <p class="numberedCont">
   如果您没有过滤器图像，您可以使用 Roto 节点 (
   <span class="_Override" style="font-weight: bold;">
    绘制
   </span>
   &gt;
   <span class="_Override" style="font-weight: bold;">
    Roto
   </span>
   ) 或 Flare 节点 (
   <span class="_Override" style="font-weight: bold;">
    绘制
   </span>
   &gt;
   <span class="_Override" style="font-weight: bold;">
    耀斑
   </span>
   )。
  </p>
  <table style="caption-side: top;">
   <col style="width: 7cm;"/>
   <tbody>
    <tr>
     <td>
      <p class="graphic">
       <img src="../../assets/images/ug_images/convolve_nodes.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198802px;margin-bottom: 0.9997844px;"/>
      </p>
     </td>
    </tr>
    <tr>
     <td class="caption">
      一个简单的卷积设置。
     </td>
    </tr>
   </tbody>
  </table>
  <p class="numberedCont">
   请注意，您不一定需要将滤镜图像裁剪到更小的尺寸，因为快速傅里叶变换用于加快大型滤镜图像的卷积。
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      4.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="4.  " valign="top">
     在卷积节点控件中，设置
     <span class="_Override" style="font-weight: bold;">
      渠道
     </span>
     到的渠道
     <span class="_Override" style="font-weight: bold;">
      源
     </span>
     你想影响的图像。默认情况下，卷积效果应用于所有通道。
    </td>
   </tr>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      5.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="5.  " valign="top">
     从中选择要使用的频道
     <span class="_Override" style="font-weight: bold;">
      过滤器
     </span>
     输入，执行以下操作之一:
    </td>
   </tr>
  </table>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   设置
   <span class="_Override" style="font-weight: bold;">
    过滤通道
   </span>
   下拉菜单到您要使用的频道。默认情况下，此菜单设置为
   <span class="_Override" style="font-weight: bold;">
    Rgba.alpha
   </span>
   .
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   从中使用相同的通道
   <span class="_Override" style="font-weight: bold;">
    过滤器
   </span>
   输入作为
   <span class="_Override" style="font-weight: bold;">
    图像
   </span>
   输入 (即，无论
   <span class="_Override" style="font-weight: bold;">
    渠道
   </span>
   设置为)，检查
   <span class="_Override" style="font-weight: bold;">
    使用输入通道
   </span>
   .
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      6.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="6.  " valign="top">
     在大多数情况下，你可以离开
     <span class="_Override" style="font-weight: bold;">
      正常化
     </span>
     检查过了这意味着
     <span class="_Override" style="font-weight: bold;">
      过滤器
     </span>
     在使用输入之前，输入被其中所有像素的总和除以，并确保卷积不会改变图像的整体亮度。
    </td>
   </tr>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      7.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="7.  " valign="top">
     使用
     <span class="_Override" style="font-weight: bold;">
      过滤边界
     </span>
     在卷积控件的下拉菜单中选择是否要将过滤器图像限制为:
    </td>
   </tr>
  </table>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   <span class="_Override" style="font-weight: bold;">
    形状
   </span>
   -The
   <span class="_Override" style="font-weight: bold;">
    过滤器
   </span>
   输入的边界框。在这种情况下，卷积只使用边界框区域，并且过滤器的中心是边界框的中心。这是默认值。你可能想使用它，例如，如果你的
   <span class="_Override" style="font-weight: bold;">
    过滤器
   </span>
   输入是一个带有小边界框的旋转形状，该边界框不会填充整个格式区域。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   <span class="_Override" style="font-weight: bold;">
    格式
   </span>
   -The
   <span class="_Override" style="font-weight: bold;">
    过滤器
   </span>
   输入的格式。在这种情况下，Convolve 使用整个格式区域，允许您在格式中偏移过滤器图像。
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      8。
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="8.  " valign="top">
     如果你想掩盖卷积效果，请检查
     <span class="_Override" style="font-weight: bold;">
      面具
     </span>
     并使用右侧的控件选择遮罩通道。例如，可以选择深度通道作为遮罩来模拟景深模糊。
    </td>
   </tr>
  </table>
  <table style="caption-side: top;">
   <col style="width: 5cm;"/>
   <col style="width: 5cm;"/>
   <tbody>
    <tr>
     <td>
      <p class="graphic">
       <img src="../../assets/images/ug_images/convolve_mask.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198649px;margin-bottom: 1.000059px;"/>
      </p>
     </td>
     <td>
      <p class="graphic">
       <img src="../../assets/images/ug_images/convolve_masked_result.png" style="margin-left: 1.000063px;margin-right: 0.5198649px;"/>
      </p>
     </td>
    </tr>
    <tr>
     <td class="caption">
      一个简单的斜坡节点用作
      <br/>
      面具。
     </td>
     <td class="caption">
      结果。
     </td>
    </tr>
   </tbody>
  </table>
  <p class="numberedCont">
   请注意，还可以使用 ZDefocus 节点进行更精确的景深模糊。有关更多信息，请参见
   <a class="noPage MCXref xref xrefnoPage" href="applying_blurs.html">
    <span class="mcFormatColor" style="color: #00b4e0;">
     仿真景深模糊
    </span>
   </a>
   .
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      9.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="9.  " valign="top">
     在原始之间溶解
     <span class="_Override" style="font-weight: bold;">
      图像
     </span>
     输入和完全卷积效果，调整
     <span class="_Override" style="font-weight: bold;">
      混合
     </span>
     滑块。
    </td>
   </tr>
  </table>
  <p class="tip" data-mc-autonum='&lt;span style="color: Black;" class="mcFormatColor"&gt;TIP:&lt;/span&gt;  '>
   <span class="autonumber">
    <span>
     <span class="mcFormatColor" style="color: Black;">
      提示:
     </span>
    </span>
   </span>
   You can check
   <span class="_Override" style="font-weight: bold;">
    使用 GPU (如果可用)
   </span>
   to have the node run on the graphics processing unit (GPU) rather than the central processing unit (CPU). The output between the GPU and CPU is identical on NVIDIA GPUs, but using the GPU can significantly improve processing performance.
   <br/>
   <br/>
   <span class="CustomProduct">
     Nuke 
   </span>
   supports AMD GPUs on late 2013 Mac Pro 6,1 and mid 2015 Mac Pro 11,5, running OS X 10.9.3 'Mavericks', or later. While, in some cases the bit-wise equality between GPU and CPU holds, for some operations there are limitations to the accuracy possible with this configuration.
   <br/>
   <br/>
   For more information on the minimum requirements, please see
   <a class="noPage MCXref xref xrefnoPage" href="../../getting_started/installation/mac_os_x.html#installation_and_licensing_4023371737_986201">
    <span class="mcFormatColor" style="color: #00b4e0;">
     GPU 加速要求
    </span>
   </a>
   or refer to the
   <span class="CustomProduct">
    Nuke
   </span>
   Release Notes available in
   <span class="_Override" style="font-weight: bold;">
    帮助
   </span>
   &gt;
   <span class="_Override" style="font-weight: bold;">
    发行说明
   </span>
   .
   <br/>
   <br/>
   You can select the GPU to use in the Preferences. Press
   <span class="_Override" style="font-weight: bold;">
    转变
   </span>
   +
   <span class="_Override" style="font-weight: bold;">
    S
   </span>
   to open the
   <span class="_Override" style="font-weight: bold;">
    偏好
   </span>
   dialog, make sure you’re viewing the
   <b>
    偏好
   </b>
   &gt;
   <b>
    性能
   </b>
   &gt;
   <b>
    硬件
   </b>
   tab, and set
   <span class="_Override" style="font-weight: bold;">
    默认闪烁设备
   </span>
   to the device you want to use. You must restart
   <span class="CustomProduct">
    Nuke
   </span>
   for the change to take effect.
   <br/>
   <br/>
   If you are using a render license of Nuke, you need to add
   <span class="_Override" style="font-weight: bold;">
    -- Gpu
   </span>
   on the command line.
   <br/>
  </p>
  <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
   <col/>
   <tbody>
    <tr>
     <td>
      <p>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu">
   <span class="MCDropDownHead dropDownHead">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     本节中的主题
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
   </div>
  </div>
 </body>
 <script type="text/javascript">
  /* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */
 </script>
 <script type="text/javascript">
  /* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */
 </script>
</html>