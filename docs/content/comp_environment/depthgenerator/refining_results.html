<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Advanced Compositing with NukeX and Nuke Studio|Generating Depth Maps">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Refining the Results</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#comp_environment/depthgenerator/refining_results.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h1>Refining the Results</h1>
        <p class="afterHead">To refine the results:</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Adjust <span class="_Override" style="font-weight: bold;">Depth</span> <span class="_Override" style="font-weight: bold;">Detail</span> to vary the resolution of the images used to calculate the depth map. The default value of 0.5 equals half the image resolution. Lower values speed up processing and deliver a smoother result. Higher values pick up finer details, but also increase processing time.</td>
            </tr>
        </table>
        <table style="caption-side: top;">
            <col style="width: 50mm;" />
            <col style="width: 50mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_depth_detail_0.15.png" />
                        </p>
                    </td>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_depth_detail_0.85.png" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Depth Detail</span> = 0.15</td>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Depth Detail</span> = 0.85</td>
                </tr>
            </tbody>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">If you find that the depth map is noisy in flat image regions, try increasing the <span class="_Override" style="font-weight: bold;">Noise</span> value in the <span class="_Override" style="font-weight: bold;">Depth Generation</span> parameter group. This sets the amount of noise DepthGenerator should ignore in the input footage when calculating the depth map. The higher the value, the smoother the depth map.</td>
            </tr>
        </table>
        <table style="caption-side: top;">
            <col style="width: 50mm;" />
            <col style="width: 50mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_noise_0.png" />
                        </p>
                    </td>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_noise_0.15.png" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Noise</span> = 0</td>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Noise</span> = 0.15</td>
                </tr>
            </tbody>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>3. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="3. &#160;">If you think the depth map should still be smoother, you can also increase <span class="_Override" style="font-weight: bold;">Smoothness</span>. Rather than affecting the depth calculation, this applies an intelligent blur on the result.</td>
            </tr>
        </table>
        <p class="numberedCont">A high smoothness can miss lots of local detail, but is less likely to produce noisy depth values. A low smoothness concentrates on detail matching, even if the resulting depth map is jagged.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>4. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="4. &#160;">The <span class="_Override" style="font-weight: bold;">Strength</span> parameter defines the strength of pixel matching between frames. You can usually leave it at the default value. However, if the depth map does not appear to fit some edges of the image, you can increase <span class="_Override" style="font-weight: bold;">Strength</span> to force matches where fine details are missed. You can also reduce <span class="_Override" style="font-weight: bold;">Strength</span> to smooth the depth map, but generally it’s a good idea to leave it at a relatively high value to make sure the algorithm is matching the images and calculating the depth correctly.</td>
            </tr>
        </table>
        <table style="caption-side: top;">
            <col style="width: 50mm;" />
            <col style="width: 50mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_strength_0.5.png" />
                        </p>
                    </td>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_strength_1.5.png" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Strength</span> = 0.5</td>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Strength</span> = 1.5</td>
                </tr>
            </tbody>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>5. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="5. &#160;">If you aren’t happy with the object boundaries in your depth map, adjust <span class="_Override" style="font-weight: bold;">Sharpness</span>. Use a high value to produce distinct boundaries between the objects, or a low value to smooth the boundaries.</td>
            </tr>
        </table>
        <table style="caption-side: top;">
            <col style="width: 50mm;" />
            <col style="width: 50mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_sharpness_0.05.png" />
                        </p>
                    </td>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_sharpness_0.95.png" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Sharpness</span> = 0.05</td>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Sharpness</span> = 0.95</td>
                </tr>
            </tbody>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>6. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="6. &#160;">If necessary, use <span class="_Override" style="font-weight: bold;">Near Clip Plane</span> and <span class="_Override" style="font-weight: bold;">Far Clip Plane</span> to set the minimum and maximum values allowed in the depth map. All depth values that are outside this range are clipped to these values.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>7. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="7. &#160;">To see if there are any regions where the depth calculation is ambiguous, check <span class="_Override" style="font-weight: bold;">Mark Bad Regions</span>.</td>
            </tr>
        </table>
        <p class="numberedCont">Any ambiguous regions are marked as very large values in the depth map. Such regions might occur if CameraTracker hasn’t been able to calculate the depth of all pixels using the camera data, due to certain camera movements for instance.</p>
        <table style="caption-side: top;">
            <col style="width: 70mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_mark_bad_values.png" style="margin-right: 0.5198822px;margin-bottom: 0.9997711px;" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Mark Bad Regions </span>enabled.</td>
                </tr>
            </tbody>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>8. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="8. &#160;">Once you’ve set the parameters so that you’re happy with the depth map, view the normals pass (if you decided to generate one earlier). Normals are calculated from depth, and the normal direction is defined by the change in depth between pixels. The normals pass can be noisy, as small changes in depth lead to large changes in the normals. To smooth out the normal map by calculating normals using a lower resolution depth map, reduce <span class="_Override" style="font-weight: bold;">Normal Detail</span>. This integrates the change in depth across a wider range of pixels, reducing noise in the normals pass.</td>
            </tr>
        </table>
        <p class="numberedCont">The default value of 0.25 causes the normals pass to be calculated at a quarter resolution.</p>
        <table style="caption-side: top;">
            <col style="width: 50mm;" />
            <col style="width: 50mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_npass_detail_0.2.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198649px;margin-bottom: 1.000059px;" />
                        </p>
                    </td>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/dg_npass_detail_0.8.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198649px;margin-bottom: 1.000059px;" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Normal Detail</span> = 0.2</td>
                    <td class="caption"><span class="_Override" style="font-weight: bold;">Normal Detail</span> = 0.8</td>
                </tr>
            </tbody>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>9. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="9. &#160;">Proceed to <a href="using_results.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Using the Results</span></a>.</td>
            </tr>
        </table>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>