<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Compositing with Nuke|Configuring Nuke|Creating Custom Viewer Processes">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Using a Gizmo as a Custom Viewer Process</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#comp_environment/configuring_nuke/using_gizmo_viewer_process.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h2>Using a Gizmo as a Custom Viewer Process</h2>
        <p class="afterHead">To create a custom Viewer Process, you would typically create a gizmo that includes some color correction like a look-up table (LUT) and register it as a Viewer Process using Python. (For more information on gizmos, see <a href="gizmos_custom_plugins_tcl.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Gizmos, Custom Plug-ins, and Generic Tcl Scripts</span></a>.)</p>
        <p>If you want to use one of the 1D LUTs listed in the Project Settings in your Viewer Process, you do not need to create a custom gizmo. Instead, you can simply register a built-in gizmo called ViewerProcess_1DLUT. This gizmo takes a parameter for which LUT to use, but does not allow it to be edited. For more information, see <a href="#configuring_nuke_769985560_678577" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">To Register a LUT in the Project Settings as a Viewer Process</span></a>.</p>
        <p>If you want anything more complex than a 1D LUT that can be found on the <b>LUT</b> tab of the Project Settings, you need to create your own gizmo and register that. For more information, see <a href="#configuring_nuke_769985560_678588" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">To Create a Viewer Process Gizmo</span></a> and <a href="#configuring_nuke_769985560_678631" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">To Register a Custom Viewer Process</span></a>.</p>
        <h3><a name="configuring_nuke_769985560_678577"></a>To Register a LUT in the Project Settings as a Viewer Process</h3>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Create a file called <b>init.py</b> in your plug-in path directory if one doesn’t already exist. For more information on plug-in path directories, see <a href="loading_gizmos_plugins_scripts.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Loading Gizmos, NDK Plug-ins, and Python and Tcl Scripts</span></a>.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">To register one of the LUTs in the Project Settings as a Viewer Process, use, for example, the following function in your <b>init.py</b>:</td>
            </tr>
        </table>
        <p class="cmdlinenumCont">nuke.ViewerProcess.register("Cineon", nuke.createNode, ("ViewerProcess_1DLUT", "current Cineon"))</p>
        <p class="numberedCont">This registers a built-in gizmo called ViewerProcess_1DLUT as a Viewer Process and sets it to use the Cineon LUT. The registered Viewer Process appears in the Viewer Process dropdown menu as <span class="_Override" style="font-style: italic;">Cineon</span>.</p>
        <p class="numberedCont">Note that you can set the built-in gizmo to use any 1D LUT in the Project Settings. For example, to set it to use the Panalog LUT, use the following function:</p>
        <p class="cmdlinenumCont">nuke.ViewerProcess.register("Panalog", nuke.createNode, ("ViewerProcess_1DLUT", "current Panalog"))</p>
        <h3><a name="configuring_nuke_769985560_678588"></a>To Create a Viewer Process Gizmo</h3>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Create the node(s) you want to use as a Viewer Process. For example, you can use a ColorLookup, Vectorfield (3D LUT), Truelight, or Colorspace node.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">Select the node(s) you want to include in the Viewer Process and select <b>Other </b>&gt;<b> Group</b>.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>3. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="3. &#160;">To select which controls the users of your Viewer Process can adjust, right-click on the dark gray background of the Group properties panel and select <b>Manage User Knobs</b>. For more information on how to add controls to your gizmo, see <a href="creating_sourcing_gizmos.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Creating and Sourcing Gizmos</span></a>.</td>
            </tr>
        </table>
        <p class="numberedCont">If you expose controls with the same name as the controls in the Viewer (such as <b>gain</b> or <b>gamma</b>), then the controls in the Viewer are used to drive these. However, if an Input Process that exposes the same controls is also in use, the Input Process takes precedence and the Viewer controls drive it, ignoring the same-named Viewer Process control(s). For more information on Input Processes, see <span class="_Override" style="font-style: normal;"><a href="../../getting_started/using_interface/using_viewer_controls.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Using the Viewer Controls</span></a></span> &gt; <b>Input Process and Viewer Controls</b>.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>4. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="4. &#160;">Once you are happy with the modified Viewer Process group, export it to a gizmo by clicking <b>export as gizmo</b> on the <b>Node</b> tab of the group controls.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>5. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="5. &#160;">In the file browser that appears, click <b>Home</b>. Type <span class="_Override" style="font-weight: bold;">.nuke/</span> after the path displayed at the bottom of the file browser. Enter a name after the path, and append a <span class="_Override" style="font-weight: bold;">.gizmo</span> extension after the name. The name should begin with a capital letter. Finally, click <b>Save</b>.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>6. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="6. &#160;">Proceed to registering the gizmo as a custom Viewer Process, described below.</td>
            </tr>
        </table>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>If you like, you can test your Viewer Process gizmo as an Input Process before registering it. Do the following:<br />1. In the top right corner of the Viewer, set the Viewer Process dropdown menu to <span class="_Override" style="font-weight: bold;">None</span>.<br />2. Select the gizmo in the Node Graph.<br />3. To toggle the Input Process on or off, click the IP button in the Viewer controls. If you are happy with the result, proceed to registering the gizmo as a Viewer Process.<br />For more information on Input Processes, see <span class="_Override" style="font-style: normal;"><a href="../../getting_started/using_interface/using_viewer_controls.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Using the Viewer Controls</span></a></span> &gt; <b>Input Process and Viewer Controls</b>.</p>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>If you want to view or modify the internals of an existing Viewer Process, you can do the following:<br />1. Select the Viewer Process that you want to modify from the Viewer Process dropdown menu.<br />2. Select <span class="_Override" style="font-weight: bold;">Edit</span> &gt; <span class="_Override" style="font-weight: bold;">Node</span> &gt; <span class="_Override" style="font-weight: bold;">Copy Viewer Process to Node Graph</span>. This inserts the Viewer Process gizmo you selected in the Node Graph. <br />3. Double-click on the gizmo to open its controls. Go to the <span class="_Override" style="font-weight: bold;">Node</span> tab and click <span class="_Override" style="font-weight: bold;">copy to group</span>. This gives you an editable group version of the gizmo.<br />4. In the Group controls, click the <span class="_Override" style="font-weight: bold;">S</span> button to show the internals of the group. They are shown on a new tab in the Node Graph.<br />5. Make your changes and export the group to a gizmo by clicking <span class="_Override" style="font-weight: bold;">export as gizmo</span> on the <span class="_Override" style="font-weight: bold;">Node</span> tab of the group controls.</p>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>If you use the ViewerLUT node in a Viewer Process gizmo, you can toggle <span class="_Override" style="font-weight: bold;">rbg_only</span> in the ViewerLUT controls to define whether the LUT is applied to all channels or only the red, green, and blue channels. You can also expose this control in the Viewer Process gizmo's controls, so that users can set it themselves.</p>
        <h3><a name="configuring_nuke_769985560_678631"></a>To Register a Custom Viewer Process</h3>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Create a file called <b>init.py</b> in your plug-in path directory if one doesn’t already exist. For more information on plug-in path directories, see <a href="loading_gizmos_plugins_scripts.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Loading Gizmos, NDK Plug-ins, and Python and Tcl Scripts</span></a>.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">To register a gizmo or a node as a Viewer Process, use the following function in your <b>init.py</b>:</td>
            </tr>
        </table>
        <p class="cmdlinenumCont">nuke.ViewerProcess.register()</p>
        <p class="numberedCont">For example, to register a gizmo called MyProcess.gizmo as a Viewer Process and have it appear in the Viewer Process dropdown menu as <span class="_Override" style="font-style: italic;">My Custom Process</span>, you would enter the following:</p>
        <p class="cmdlinenumCont">nuke.ViewerProcess.register("My Custom Process", nuke.Node, ("MyProcess", ""))</p>
        <p class="numberedCont">Your Viewer Process should now appear in the Viewer controls.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/viewer_luts_menu_custom.png" />
        </p>
        <p class="numberedCont">If you need to unregister a Viewer Process, you can use <span class="_Override" style="font-weight: bold;">nuke.ViewerProcess.unregister()</span>. For example:</p>
        <p class="cmdlinenumCont"><span class="_Override" style="font-weight: normal;">nuke.ViewerProcess.unregister("My Custom Process")</span>.</p>
        <p class="numberedCont">To get help on the use of these statements, you can enter <span class="_Override" style="font-weight: bold;">help (nuke.ViewerProcess)</span> in the Script Editor.</p>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>You can also pass arguments to <span class="_Override" style="font-weight: bold;">nuke.ViewerProcess.register()</span>. For example, to register a Blur node with its <span class="_Override" style="font-weight: bold;">size</span> knob set to 10, you would enter the following:<br />nuke.ViewerProcess.register("Blur", nuke.createNode, ("Blur", "size 10"))</p>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>You can easily register any LUT defined in the project settings as a Viewer Process. For how to do this, see the installed <b>menu.py</b> file where the built-in Viewer Processes are registered. You can find <b>menu.py</b> in the following location:<br /><br /><span class="_Override" style="font-weight: bold;">On Windows</span>:<br />drive letter:\Program Files\<span class="CustomProduct">Nuke</span><span class="CustomVersion Number (Long)">10.5v8</span>\plugins or<br />drive letter:\Program Files (x86)\<span class="CustomProduct">Nuke</span><span class="CustomVersion Number (Long)">10.5v8</span>\plugins<br /><br /><b>On Mac OS X:</b><br />/Applications/<span class="CustomProduct">Nuke</span><span class="CustomVersion Number (Long)">10.5v8</span>/<span class="CustomProduct">Nuke</span><span class="CustomVersion Number (Long)">10.5v8</span>.app/Contents/MacOS/plugins<br /><br /><b>On Linux:</b><br />/usr/local/<span class="CustomProduct">Nuke</span><span class="CustomVersion Number (Long)">10.5v8</span>/plugins</p>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>