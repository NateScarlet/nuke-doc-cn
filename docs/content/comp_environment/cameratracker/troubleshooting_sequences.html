<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Advanced Compositing with NukeX and Nuke Studio|Camera Tracking|Tracking in Sequence Mode">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Troubleshooting Sequence Tracks</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#comp_environment/cameratracker/troubleshooting_sequences.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h2><a name="Troubles"></a>Troubleshooting Sequence Tracks</h2>
        <p>Some sequences are inevitably going to cause problems. There are a number of pre-tracking checks and post-tracking refinement controls to assist CameraTracker.</p>
        <h3>Pre-Tracking Checks</h3>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>Play through the sequence before tracking and mask out any problem areas in the scene. Large moving objects can confuse the tracking and solving process as can appear to be fixed areas of the scene.</p>
        <p class="bulletedCont">See <a href="masking.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Masking Out Regions of the Image</span></a> for more information.</p>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>If you're compositing on moving elements, such as faces, try tracking and solving on just the moving element using masks. You'll then get a camera that moves around the element as if it was fixed in a single position.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>Textureless areas of the sequence, such as greenscreens, can cause features to cluster together in other areas, affecting the track and solve.</p>
        <p class="bulletedCont">Turn on <b>Preview Features</b> and use the distribution and separation controls to even out the features. See <a href="tracking_sequences.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Tracking in Sequence Mode</span></a></p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>Regular edges, such as striped patterns, in the scene can confuse CameraTracker.</p>
        <p class="bulletedCont">Again, turn on <b>Preview Features</b> and use the <b>Detection Threshold</b> to force CameraTracker to use corner-like images textures. See <a href="tracking_sequences.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Tracking in Sequence Mode</span></a></p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>You can improve tracking data by adding User Tracks manually, see <a href="tracking_usertracks.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Working with User Tracks</span></a>for more information.</p>
        <h3>Reviewing and Refining Tracking Data</h3>
        <p>You can use the threshold controls on the <b>AutoTracks</b> tab to dynamically reject tracks and remove them, before solving, to improve accuracy. Using the <b>num tracks</b> curve as an example:</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Click the <b>AutoTracks</b> tab in the properties and select the <b>num tracks</b> curve.</td>
            </tr>
        </table>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>Press <b>F</b> in the curve display to fit the selected track(s) to the available screen space.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/ct2_toubleshoot1.png" alt="" title="" />
        </p>
        <p class="numberedCont">In the example, you can see that the number of tracks has dropped significantly around frames 180-200.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">Move the Viewer playhead to the affected area and examine the tracked features in the Viewer.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>3. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="3. &#160;">If you increase the <b>Min Length</b> control in the properties panel, you'll start to see tracks turn red as they fall below the threshold.</td>
            </tr>
        </table>
        <table>
            <col style="width: 70mm;" />
            <col style="width: 70mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/ct2_toubleshoot2.png" alt="" title="" />
                        </p>
                    </td>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/ct2_toubleshoot3.png" alt="" title="" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption"><b>Min Length</b> set at the default value, 3 frames.</td>
                    <td class="caption">Min Length set to 50 frames.</td>
                </tr>
            </tbody>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>4. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="4. &#160;">Click <b>Delete Rejected</b> to remove all the tracks that fall below the specified threshold.</td>
            </tr>
        </table>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>You can also remove tracks manually, by selecting them in the Viewer, right-clicking, and choosing <b>tracks</b> &gt; <b>delete selected</b>.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>5. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="5. &#160;">You can then retrack the affected frame range by clicking <b>Update Track</b>. See <a href="retracking_sequences.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Retracking Partial Frame Ranges</span></a> for more information.</td>
            </tr>
        </table>
        <h3>Re-tracking Using Tracking Settings</h3>
        <p>Once you have refined the tracking data, review the sequence by scrubbing the playhead to make sure you have tracks across the image on the rigid fixed background. If you see lots of tracks that drift or jump, select them manually, right-click, and go to <b>tracks</b> &gt; <b>delete selected</b>. </p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/ct2_delete_track1.png" />
        </p>
        <p>You can also add User Tracks to improve tracking data before solving, see <a href="tracking_usertracks.html" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">Working with User Tracks</span></a>.</p>
        <p>You can improve a set of feature tracks using the following controls and then retrack to improve your chances of getting a good solve:</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Minimum Length</span> - sets a threshold value for the minimum acceptable track length. Tracks that fail to stick to the associated feature for this amount of frames are rejected. </p>
        <p class="bulletedCont">In long slow camera moves, it is best to solve from long tracks generated in the shot. If there are lots of short tracks, this can lead to noise on the calculated camera. Try removing the short tracks before solving.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Track </span><span class="_Override" style="font-weight: bold;">Threshold</span> - CameraTracker’s tolerance to change along the track is determined by this control. </p>
        <p class="bulletedCont">Reducing this threshold makes tracking more tolerant to image changes, potentially producing longer tracks.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Track</span><span class="_Override" style="font-weight: bold;"> Smoothness</span> - sets the threshold for smooth track generation. Adjusting this value can be useful in preventing poor tracks in complex sequences.</p>
        <p class="bulletedCont">Increasing the smoothness value removes tracks that fail over time. </p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Track</span><span class="_Override" style="font-weight: bold;"> Consistency</span> - sets the threshold for how inconsistent a feature track can be before CameraTracker discards it and reseeds in a different location. </p>
        <p class="bulletedCont">Higher values allow for less inconsistency and vice versa.</p>
        <p>Click <b>Delete Rejected</b> to remove all the tracks that fall below the specified thresholds.</p>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>