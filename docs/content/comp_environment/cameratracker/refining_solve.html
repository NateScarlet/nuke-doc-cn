<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Guide|NukeX|Camera Tracking|Adjusting the Solve">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Refining the Solve</title>
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../resources/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../resources/stylesheets/load.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../preface/user_guide.html">User Guide</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../nukex/nukex_intro.html">NukeX</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="camera_tracking.html">Camera Tracking</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Refining the Solve</span>
        </div>
        <h2>Refining the Solve</h2>
        <p class="afterHead">On the <span class="_Override" style="font-weight: bold;">Refine</span> tab, the first section of the tab, <span class="_Override" style="font-weight: bold;">Track</span> <span class="_Override" style="font-weight: bold;">info</span>, gives you detailed information of the solve and in the Analysis section you can redo your solve, recalculate it and adjust your output. </p>
        <p>The <span class="_Override" style="font-weight: bold;">Solve</span> <span class="_Override" style="font-weight: bold;">Error</span> field at the top of the tab gives you the final RMS (root mean square) error of your solve. The <span class="_Override" style="font-weight: bold;">Keyframes</span> control displays the automatically-selected keyframes for the solve. </p>
        <p>Under <span class="_Override" style="font-weight: bold;">Track</span> <span class="_Override" style="font-weight: bold;">Info</span>, in the <span class="_Override" style="font-weight: bold;">Track</span> <span class="_Override" style="font-weight: bold;">Display</span> dropdown, select:</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Tracks</span> - Select to view track status, which is visible as amber if the track is unsolved, green if it’s solved and red if it’s invalid or rejected. Point to a single track to view the track information.</p>
        <table style="caption-side: top;">
            <col style="width: 70mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../resources/images/ug_images/ct_tracks.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198802px;margin-bottom: 0.9997844px;" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption">Viewing tracks only.</td>
                </tr>
            </tbody>
        </table>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Point RMSE</span> - Select to evaluate the reliability of your tracks by viewing the root mean square reprojection error of your 3D points. This is the error between the calculated 3D point for a track and the tracked 2D feature in the 2D image. It is the mean error across the lifetime of each track. The tracks are color coded red (for an unreliable point), yellow (for a potentially unreliable point) or green (for a reliable point). Again, point to a single track to view the track information.</p>
        <table style="caption-side: top;">
            <col style="width: 70mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../resources/images/ug_images/ct_track_quality.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198802px;margin-bottom: 0.9997691px;" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption">Point RMSE indicated with colors.</td>
                </tr>
            </tbody>
        </table>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Point</span> <span class="_Override" style="font-weight: bold;">Error - </span>Set to view the reprojection error of your 3D points. This is the error between the calculated 3D point for a track and the 2D feature for a track at the current frame.The tracks are color coded red, yellow or green according to their reprojection error figures. Point to a single track to view the track information.</p>
        <table style="caption-side: top;">
            <col style="width: 70mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../resources/images/ug_images/ct_point_quality.png" style="margin-left: 1.000063px;margin-top: 1.000063px;margin-right: 0.5198802px;margin-bottom: 0.9997691px;" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption">Viewing point errors.</td>
                </tr>
            </tbody>
        </table>
        <p>In the <span class="_Override" style="font-weight: bold;">Track</span> <span class="_Override" style="font-weight: bold;">Curves</span> graph, you can view the statistical details of your track and solve as curves. The curves show length and error information on your tracks. They are set automatically, and you should not edit them manually in the graph. Instead, use the <span class="_Override" style="font-weight: bold;">Analysis</span> section of the tab to make changes, such as exclude tracks.</p>
        <p>The curves in the Track Curves graph show the following details:</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">num tracks</span> - the number of tracked features at each frame. </p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">track len </span>-<span class="_Override" style="font-weight: bold;"> min</span> - the minimum length of the tracks at each frame (in frames).</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">track len </span>-<span class="_Override" style="font-weight: bold;"> avg</span> - the average length of the tracks at each frame (in frames).</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">track len - max</span> - the maximum length of the tracks at each frame (in frames).</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Min Length</span> - the threshold for minimum track length.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Solve Error</span> - displays the constant <span class="_Override" style="font-weight: bold;">Solve</span> <span class="_Override" style="font-weight: bold;">Error</span> parameter.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">error min</span> - the minimum reprojection error at each frame (in pixels).</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">error rms</span> - the root mean reprojection error at each frame (in pixels).</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">error track</span> - the maximum root mean reprojection error calculated over the track lifetime at each frame (in pixels).</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">error max</span> - the maximum reprojection error at each frame (in pixels).</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Max Track Error</span> - displays the constant Max RMS Error parameter.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Max Error</span> - displays the Max Error threshold parameter.</p>
        <p>Under the <span class="_Override" style="font-weight: bold;">Track</span> <span class="_Override" style="font-weight: bold;">Curves</span> view, you can adjust your thresholds and adjust your solve if you find your solve or camera output needs readjusting. </p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Min</span> <span class="_Override" style="font-weight: bold;">Length</span> - Increase the minimum length threshold to reject short tracks. You might find a lot of short tracks cropping up in long sequences with a slow camera movement. </p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Max</span> <span class="_Override" style="font-weight: bold;">Track</span> <span class="_Override" style="font-weight: bold;">Error</span> - Reduce this threshold to reject tracks based on RMS reprojection error. </p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Max</span> <span class="_Override" style="font-weight: bold;">Error</span> - Reduce this threshold to reject tracks with a large reprojection error in isolated frames.</p>
        <p>In the <span class="_Override" style="font-weight: bold;">Analysis</span> section, you can adjust your solve in different ways and delete unwanted tracks:</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Solve</span> <span class="_Override" style="font-weight: bold;">Camera</span> - Recalculate your solve in the same way as on the <span class="_Override" style="font-weight: bold;">CameraTracker</span> tab. A new solve is calculated irrespective of the threshold that you’ve set on the <span class="_Override" style="font-weight: bold;">Refine</span> tab. You may want to resolve from scratch after deleting tracks using <span class="_Override" style="font-weight: bold;">Delete</span> <span class="_Override" style="font-weight: bold;">Unsolved</span> or <span class="_Override" style="font-weight: bold;">Delete</span> <span class="_Override" style="font-weight: bold;">Rejected</span>.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Recalculate</span> <span class="_Override" style="font-weight: bold;">Solve</span> - Recalculate your solve from the inlier tracks (that is the tracks that have not been rejected by the thresholds) that remain after you’ve adjusted your threshold values. Recalculating the solve is handy when you want to see how good the solve is after you’ve refined it, without permanently deleting tracks. Recalculating the solve also recalculates the stereo geometry. </p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Refine Output</span> - This starts with the current camera solve and uses the inlier tracks to fine tune focal length, camera position or camera rotation (or a combination of these). You can manually edit the camera solve first on the <b>Output</b> tab, then select:</p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Focal</span> <span class="_Override" style="font-weight: bold;">Length</span> - Check to refine the camera’s focal length.</p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Position</span> - Check to refine the camera position.</p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Rotation</span> - Check to refine the camera rotation. </p>
        <p class="bulletedCont">For example, you might want to smooth the camera path then use <span class="_Override" style="font-weight: bold;">Refine</span> <span class="_Override" style="font-weight: bold;">Output</span> to update the camera rotation to match the camera path. </p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Delete Unsolved</span> - Click to permanently delete tracks for which 3D points could not be calculated in the solve.</p>
        <p class="bulleted" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Delete Rejected</span> - Click to permanently delete tracks that have been rejected by the thresholds. For more information on deleting tracks, see <a href="deleting_tracks.html#camera_tracking_911972325_703509" class="MCXref xref "><span style="color: 00B4E0;" class="mcFormatColor">Deleting Tracks</span></a>.</p>
    </body>
</html>