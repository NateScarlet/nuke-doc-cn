<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Guide|NukeX|Camera Tracking">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Accounting for Lens Distortion</title>
        <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../resources/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../resources/stylesheets/load.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../preface/user_guide.html">User Guide</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../nukex/nukex_intro.html">NukeX</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="camera_tracking.html">Camera Tracking</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Accounting for Lens Distortion</span>
        </div>
        <h1><a name="camera_tracking_911972325_664600"></a><a name="camera_tracking_911972325_13677"></a>Accounting for Lens Distortion</h1>
        <p class="afterHead">You can use CameraTracker’s lens distortion feature to account for lens distortion in your footage. You can then track and solve from the original footage and calculate the camera for the undistorted footage. On the <span class="_Override" style="font-weight: bold;">Lens</span> tab, you can define the distortion type in your footage and adjust other lens distortion controls:</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">In the <span class="_Override" style="font-weight: bold;">Lens</span> <span class="_Override" style="font-weight: bold;">Distortion</span> dropdown, select the type of distortion to expect.</td>
            </tr>
        </table>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">No</span> <span class="_Override" style="font-weight: bold;">Lens</span> <span class="_Override" style="font-weight: bold;">Distortion</span> disables all lens distortion controls and treats the footage as having no distortion. This option gives the best solve to work on the original footage. The calculated focal length compensates for lens distortion. </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Known</span> <span class="_Override" style="font-weight: bold;">Lens</span> allows you to specify the lens distortion manually and to use that information in doing the camera solve. Use this when you have a grid available for defining lens distortion. You can calculate the distortion parameters in a LensDistortion node first and paste the values onto the CameraTracker node. </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Refine</span> <span class="_Override" style="font-weight: bold;">Known</span> <span class="_Override" style="font-weight: bold;">Lens</span> gives you a chance to give an approximate distortion to use but attempts to refine it in the camera solve. This is not necessary when a grid is used but could improve the solve if lens distortion is calculated using an alternative method or set manually.</p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">Unknown</span> <span class="_Override" style="font-weight: bold;">Lens</span> calculates the lens distortion automatically from the sequence (in the same way as the Image Analysis option in the LensDistortion node) and then refines the distortion in the camera solve. This way you don’t have to calculate your lens distortion separately using the LensDistortion node. </p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">If you chose either <span class="_Override" style="font-weight: bold;">Known</span> <span class="_Override" style="font-weight: bold;">Lens</span> or <span class="_Override" style="font-weight: bold;">Refine</span> <span class="_Override" style="font-weight: bold;">Known</span> <span class="_Override" style="font-weight: bold;">Lens</span>, enter values for the <span class="_Override" style="font-weight: bold;">Lens</span> <span class="_Override" style="font-weight: bold;">Type</span>, <span class="_Override" style="font-weight: bold;">Radial</span> <span class="_Override" style="font-weight: bold;">Distortion</span>, <span class="_Override" style="font-weight: bold;">Distortion</span> <span class="_Override" style="font-weight: bold;">Center</span> controls and, if necessary, the <span class="_Override" style="font-weight: bold;">Anamorphic</span> <span class="_Override" style="font-weight: bold;">Squeeze</span>, <span class="_Override" style="font-weight: bold;">Asymmetric</span> <span class="_Override" style="font-weight: bold;">Distortion</span> and <span class="_Override" style="font-weight: bold;">filter</span> controls. For more information on these controls, see <a href="../lens_distortion/adjusting_lensdistortion.html#lensdistortion_3264494434_676866" class="MCXref xref "><span style="color: 00B4E0;" class="mcFormatColor">Adjusting LensDistortion Parameters</span></a>.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>3. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="3. &#160;">Move straight on to clicking <span class="_Override" style="font-weight: bold;">Solve</span> <span class="_Override" style="font-weight: bold;">Camera</span> and <span class="_Override" style="font-weight: bold;">Create</span> <span class="_Override" style="font-weight: bold;">Camera</span> to view your results or further adjust the solver controls on the <span class="_Override" style="font-weight: bold;">Solver</span> tab. </td>
            </tr>
        </table>
        <p class="numberedCont">After you have your lens distortion values, you can also toggle the <span class="_Override" style="font-weight: bold;">Undistort Input</span> box to view your footage distorted or undistorted.</p>
        <h2>Using Lens Distortion in a Card Node</h2>
        <p class="afterHead">CameraTracker automatically recalculates the lens distortion parameters so you can choose to apply the lens distortion model in a Card node. Do the following:</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Open the <span class="_Override" style="font-weight: bold;">Card</span> <span class="_Override" style="font-weight: bold;">Parameters</span> folder on the <span class="_Override" style="font-weight: bold;">Lens</span> tab.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">Hold down <span class="_Override" style="font-weight: bold;">Ctrl</span>/<span class="_Override" style="font-weight: bold;">Cmd</span> and drag the <span class="_Override" style="font-weight: bold;">x</span>, <span class="_Override" style="font-weight: bold;">y</span> and <span class="_Override" style="font-weight: bold;">z</span> values from the <span class="_Override" style="font-weight: bold;">scale</span> parameter’s values on to the corresponding fields on the <span class="_Override" style="font-weight: bold;">Card</span> tab in the Card node (<span class="_Override" style="font-weight: bold;">3D</span> &gt; <span class="_Override" style="font-weight: bold;">Geometry</span> &gt; <span class="_Override" style="font-weight: bold;">Card</span>) properties panel. This sets the right scale for the reproduced distortion on the Card.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>3. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="3. &#160;">Hold down <span class="_Override" style="font-weight: bold;">Ctrl/Cmd</span> and drag the <span class="_Override" style="font-weight: bold;">a</span>, <span class="_Override" style="font-weight: bold;">b,</span> and <span class="_Override" style="font-weight: bold;">c</span> values onto the corresponding fields on the <span class="_Override" style="font-weight: bold;">Lens</span> <span class="_Override" style="font-weight: bold;">Distortion</span> tab in the Card node properties panel. These values are now used to undistort the image attached to the <span class="_Override" style="font-weight: bold;">img</span> input of the Card node. </td>
            </tr>
        </table>
    </body>
</html>