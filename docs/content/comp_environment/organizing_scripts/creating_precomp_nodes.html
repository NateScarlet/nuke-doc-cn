<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Compositing with Nuke|Organizing Scripts|Using the Precomp Node">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Creating Precomp Nodes</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#comp_environment/organizing_scripts/creating_precomp_nodes.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h2>Creating Precomp Nodes</h2>
        <p class="afterHead">Whether you want to use the Precomp node to speed up rendering or to enable a collaborative workflow, the process of creating the Precomp is the same.</p>
        <h3>To Create a Precomp Node</h3>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Select the nodes you want to include in the separate precomp script. If you select a Group node, the nodes nested inside it are copied into the precomp script.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">Select <span class="_Override" style="font-weight: bold;">Other</span> &gt; <span class="_Override" style="font-weight: bold;">Precomp</span> (or press <span class="_Override" style="font-weight: bold;">Ctrl</span>/<span class="_Override" style="font-weight: bold;">Cmd</span>+<span class="_Override" style="font-weight: bold;">Shift</span>+<span class="_Override" style="font-weight: bold;">P</span> on the Node Graph).</td>
            </tr>
        </table>
        <p class="numberedCont">The <b>Precomp Nodes</b> dialog opens.</p>
        <p class="graphic">
            <img src="../../assets/images/gsg_images/precomp.png" />
        </p>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>If you don't select any nodes when you create a Precomp node, the Precomp Nodes dialog is not displayed and the node is left blank. Using the <span class="_Override" style="font-weight: bold;">file</span> parameter in the Precomp controls, you can then browse to an existing script to load into the Precomp node.<br />If you have several Write nodes in the existing script and want to control which of them is used for the output of the Precomp node, you can select <span class="_Override" style="font-weight: bold;">Other</span> &gt; <span class="_Override" style="font-weight: bold;">Output</span> to insert an Output node after the Write node you want to use. <br />If the Precomp node cannot find an Output node in the script, it looks for a Write node and sets <span class="_Override" style="font-weight: bold;">Output node</span> in the Precomp controls to the name of that node. The <span class="_Override" style="font-weight: bold;">Output node</span> field can also be used later to override what is set as the Output node in the precomped script. To do so, make sure you check <span class="_Override" style="font-weight: bold;">enable</span>. This check box allows you to toggle between the output node chosen by default and the output node you specified in the <span class="_Override" style="font-weight: bold;">Output node</span> field.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>3. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="3. &#160;">Click the file browser icon <img src="../../assets/images/ug_images/icon_file_menu_26x25.png" style="vertical-align: text-top;width: 26;height: 25;" />next to <span class="_Override" style="font-weight: bold;">Precomp script path</span>, and browse to the directory where you want to save the precomp <span class="_Override" style="font-weight: bold;">.nk</span> script. After the directory path, enter a name for the precomp script, for example <span class="_Override" style="font-weight: bold;">Precomp1_v01.nk</span>. By default, the precomp script is saved next to the main script. If the main script has not been saved, the precomp script is saved in the current directory.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>4. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="4. &#160;">Click the file browser icon <img src="../../assets/images/ug_images/icon_file_menu_26x25.png" style="vertical-align: text-top;width: 26;height: 25;" />next to <span class="_Override" style="font-weight: bold;">Precomp render path</span>, and browse to the directory where you want to save the rendered output of the precomped nodes. After the directory path, enter a name for the rendered image, for example <span class="_Override" style="font-weight: bold;">Precomp1_####.exr</span>. If you like, you can also use version numbers in the name, for example <span class="_Override" style="font-weight: bold;">Precomp1_v01_####.exr</span>.</td>
            </tr>
        </table>
        <p class="warning" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;WARNING:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">WARNING:</span> &#160;</span></span>We recommend rendering the image as an <b>.exr</b> because that way <span class="CustomProduct">Nuke</span> can write the hash value of the incoming node tree into the rendered file. If the precomp script changes so that the hashes won’t match, <span class="CustomProduct">Nuke</span> can then notify you, and you can update the resulting image. If you use a file format other than <span class="_Override" style="font-weight: bold;">.exr</span>, you do not get this notification and the rendered file is likely to become out of date. For more information on hash values, see <a href="#About_the_Hash_Value" class="noPage MCXref xref xrefnoPage"><span style="color: #00b4e0;" class="mcFormatColor">About the Hash Value</span></a>.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>5. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="5. &#160;">From the <span class="_Override" style="font-weight: bold;">Channels</span> dropdown menu, select the channels you want to include in the rendered output of the precomped nodes.</td>
            </tr>
        </table>
        <p class="numberedCont">If you later need to adjust this selection, you can do so by setting the channels on the appropriate Write node (by default, Write1) in the precomp <span class="_Override" style="font-weight: bold;">.nk</span> script.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>6. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="6. &#160;">From the <span class="_Override" style="font-weight: bold;">Original nodes</span> dropdown menu, select:</td>
            </tr>
        </table>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">add backdrop</span> to create a backdrop behind the precomped nodes in the Node Graph.</p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">delete</span> to delete the precomped nodes.</p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span><span class="_Override" style="font-weight: bold;">no change</span> to do nothing to the precomped nodes.</p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>7. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="7. &#160;">Click <span class="_Override" style="font-weight: bold;">OK</span>. </td>
            </tr>
        </table>
        <p class="numberedCont"><span class="CustomProduct">Nuke</span> saves the selected nodes in the <span class="_Override" style="font-weight: bold;">.nk</span> script specified. This script also includes input and output nodes, a Write node, and the current project settings.</p>
        <p class="numberedCont">In the Node Graph, the selected nodes are replaced with the Precomp node. <span class="CustomProduct">Nuke</span> opens the properties of the Precomp node.</p>
        <h4><a name="About_the_Hash_Value"></a>About the Hash Value</h4>
        <p>The hash value is a unique number (for example, b1c9c0aff2012a8) calculated from a node and the entire tree of nodes connected to its input. The class of the node and all the current control settings contribute to the hash value.</p>
        <p>You can display the hash value at any point in the node tree by selecting a node in the Node Graph and pressing <span class="_Override" style="font-weight: bold;">I</span>. The hash can be different at different points in the tree.</p>
        <h3>Precomp Nodes and Project Settings</h3>
        <p>When you create a Precomp node, the precomp <span class="_Override" style="font-weight: bold;">.nk</span> script gets its project settings from the main script. The main script’s project settings are also used whenever the precomp script is loaded into the main script. Therefore, if you open the precomp script in a separate instance of <span class="CustomProduct">Nuke</span> and change its project settings so that they no longer match the main script’s settings, your changes do NOT have an effect when the precomp script is loaded into the main script. If you want to change the project settings, you should always do so in the main script rather than the precomp script.</p>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>