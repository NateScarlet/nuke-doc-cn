<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Advanced Compositing with NukeX and Nuke Studio|Using the BlinkScript Node|Loading, Editing, and Saving Kernels">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Editing Kernels</title>
        <link href="../../../skins/default/stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/master_tablestyle.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#comp_environment/blinkscript/editing_kernels.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h2>Editing Kernels</h2>
        <p class="afterHead">You can edit existing kernels or write your own from scratch by clicking <b>Clear</b> and entering code in the <b>Kernel Source</b> field. Bear in mind that you won't see any results in the Viewer until you click <b>Recompile</b>.</p>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>You can change how text in the <b>Kernel Source</b> appears using the controls in the <b>Preferences</b> &gt; <b>Panels</b> &gt; <b>Script Editor</b> tab. After saving your preferences, close and then re-open the <b>Kernel Source</b> in the <b>Properties</b> panel to apply the changes.</p>
        <p>The first line in a kernel is always a declaration, similar to a C++ class and derived from ImageComputationKernel, which describes a kernel used to produce an output image.</p>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>BlinkScript in Nuke only works with ImageComputation kernels. It does not work with reduction or rolling kernels. Reduction and rolling kernels can, however, be used in the Blink API as part of an NDK plug-in written in C++.</p>
        <p> In the case of the default InvertKernel:</p>
        <p class="cmdline">kernel InvertKernel : ImageComputationKernel&lt;eComponentWise&gt;</p>
        <p>Parameters for the kernel are declared in the <span style="font-family: 'Courier New';">param</span> section, in the same way as you would declare member variables in a C++ class. If your kernel doesn’t require any parameters, you can omit this section.</p>
        <p>For example, the InvertKernel has a single parameter, <b>multiply</b>:</p>
        <p class="cmdline">param:</p>
        <p class="cmdlinebulletCont">float multiply;  //This parameter is made available to the user.</p>
        <p>When a kernel is compiled inside the BlinkScript node, controls are generated for each of the kernel’s parameters and added to the <b>Kernel Parameters</b> tab. In the case of InvertKernel, the node has just one custom parameter, <b>Multiply</b>.</p>
        <p>Kernel parameters can be C++ built-in types such as <b>float</b> or <b>int</b>. Vector and matrix parameters are also supported. The following table contains the control types that the Kernel Source can expose on the <b>Kernel Parameters</b> tab in the properties panel.</p>
        <table style="width: 100%;margin-left: auto;margin-right: auto;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');" class="TableStyle-Master_TableStyle" cellspacing="0">
            <col class="TableStyle-Master_TableStyle-Column-Column1" style="width: 131px;" />
            <col class="TableStyle-Master_TableStyle-Column-Column1" />
            <thead>
                <tr class="TableStyle-Master_TableStyle-Head-Header1">
                    <th class="TableStyle-Master_TableStyle-HeadE-Column1-Header1">
                        <p>Control Type</p>
                    </th>
                    <th class="TableStyle-Master_TableStyle-HeadD-Column1-Header1">
                        <p>Description</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p>Bool_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p>Parameters of type <b>bool</b> are represented by a Bool_knob, or single checkbox.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p>Int_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p>Parameters of type <b>int</b> generate an Int_knob with a single numeric input box. Right-clicking in the input box displays a menu allowing you to animate the value.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p>MultiInt_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p>Parameters of type <b>int2</b>, <b>int3</b>, <b>int4</b>, or <b>int[ ]</b> generate a MultiInt_knob, with multiple numeric input boxes. As with the Int_knob, right-clicking in the input boxes displays a menu allowing you to animate the values.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p>Float_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p>Parameters of type <b>float</b> generate a Float_knob with a numeric input box, linear slider, and animation menu button. The slider ranges from 0 to twice the default value of the parameter, or 0 to 1 if no default value is set.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p>XY_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p>Parameters with two floating-point values,  types float2 or float[2], are interpreted as positions in 2D space and generate an XY_knob with an adjustable handle in the Viewer.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p>XYZ_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p>Parameters with three floating-point values, types float3 or float[3], are interpreted as positions in 3D space and generate an XYZ_knob with an adjustable handle in the 3D Viewer.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p>AColor_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p>Parameters with four floating-point values, type float4 or float[4], are interpreted as colors with alpha, and generate an AColor_knob. This initially displays a single entry box and slider, a button to split to four entry boxes, a button to display the <span class="CustomProduct">Nuke</span> color wheel, and a swatch showing the current color with an eyedropper for sampling in the Viewer.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p>Array_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p>Parameters with nine floating-point values, including float3x3, are displayed as an Array_knob with a 3x3 grid. Parameters with sixteen floating-point values, including float4x4, are displayed as an Array_knob with a 4x4 grid.
</p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                        <p>MultiFloat_knob</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
                        <p>Parameters with numbers of floating-point values not already listed above, such as float[5], generate a MultiFloat_knob with a numerical entry box for each value, a single linear slider, and an animation menu button. The slider ranges from 0 to 1.
</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The rest of the kernel is up to you, within certain guidelines listed in <span class="CustomProduct">Nuke</span>'s <b>Help</b> menu under <b>Documentation &gt; Guide to Writing Blink Kernels</b> or at <a href="http://docs.thefoundry.co.uk/nuke/100/BlinkKernels/" target="_blank">http://docs.thefoundry.co.uk/nuke/100/BlinkKernels/</a>. There are also several example kernels to get you started.</p>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>