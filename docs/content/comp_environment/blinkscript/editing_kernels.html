<!DOCTYPE html>
<html data-mc-help-system-file-name="Default.xml" data-mc-in-preview-mode="false" data-mc-path-to-help-system="../../../" data-mc-preload-images="false" data-mc-runtime-file-type="Topic" data-mc-search-type="Stem" data-mc-target-type="WebHelp2" data-mc-toc-path="Advanced Compositing with NukeX and Nuke Studio|Using the BlinkScript Node|Loading, Editing, and Saving Kernels" lang="en-us" xml:lang="en-us" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
 <head>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   编辑内核
  </title>
  <link href="../../../skins/default/stylesheets/Slideshow.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet"/>
  <link href="../../assets/stylesheets/master_tablestyle.css" rel="stylesheet"/>
  <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet"/>
  <script src="../../../Resources/Scripts/custom.modernizr.js">
  </script>
  <script src="../../../Resources/Scripts/jquery.min.js">
  </script>
  <script src="../../../Resources/Scripts/require.min.js">
  </script>
  <script src="../../../Resources/Scripts/require.config.js">
  </script>
  <script src="../../../Resources/Scripts/foundation.min.js">
  </script>
  <script src="../../../Resources/Scripts/plugins.min.js">
  </script>
  <script src="../../../Resources/Scripts/MadCapAll.js">
  </script>
  <script src="../../assets/stylesheets/load.js">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop">
   <a href="../../../Default.html#comp_environment/blinkscript/editing_kernels.html">
    用导航打开主题
   </a>
  </p>
  <script>
   /* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */
  </script>
  <div class="nocontent">
   <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-count="3" data-mc-breadcrumbs-divider=" &gt; " data-mc-toc="True">
    <span class="MCBreadcrumbsPrefix">
     你在这里:
    </span>
   </div>
  </div>
  <h2>
   编辑内核
  </h2>
  <p class="afterHead">
   您可以通过点击编辑现有的内核或从头开始编写自己的内核
   <b>
    清除
   </b>
   并在中输入代码
   <b>
    内核源
   </b>
   字段。请记住，在单击之前，您不会在查看器中看到任何结果
   <b>
    重新编译
   </b>
   .
  </p>
  <p class="tip" data-mc-autonum='&lt;span style="color: Black;" class="mcFormatColor"&gt;TIP:&lt;/span&gt;  '>
   <span class="autonumber">
    <span>
     <span class="mcFormatColor" style="color: Black;">
      提示:
     </span>
    </span>
   </span>
   您可以更改文本的方式
   <b>
    内核源
   </b>
   使用中的控件显示
   <b>
    偏好
   </b>
   &gt;
   <b>
    面板
   </b>
   &gt;
   <b>
    脚本编辑器
   </b>
   标签。保存首选项后，关闭，然后重新打开
   <b>
    内核源
   </b>
   在
   <b>
    属性
   </b>
   面板以应用更改。
  </p>
  <p>
   内核中的第一行总是声明，类似于 C 类，派生自 ImageComputationKernel，它描述了用于生成输出图像的内核。
  </p>
  <p class="note" data-mc-autonum='&lt;span style="color: Black;" class="mcFormatColor"&gt;NOTE:&lt;/span&gt;  '>
   <span class="autonumber">
    <span>
     <span class="mcFormatColor" style="color: Black;">
      注意:
     </span>
    </span>
   </span>
   Nuke 中的 BlinkScript 仅适用于 imagecompution 内核。它不适用于还原或滚动内核。然而，还原和滚动内核可以作为用 C 编写的 NDK 插件的一部分在 Blink API 中使用。
  </p>
  <p>
   在默认 InvertKernel 的情况下:
  </p>
  <p class="cmdline">
   内核 InvertKernel: ImageComputationKernel &lt;eComponentWise&gt;
  </p>
  <p>
   内核的参数在
   <span style="font-family: 'Courier New';">
    参数
   </span>
   部分，就像在 C 类中声明成员变量一样。如果你的内核不需要任何参数，你可以省略这一部分。
  </p>
  <p>
   例如，InvertKernel 只有一个参数,
   <b>
    乘
   </b>
   :
  </p>
  <p class="cmdline">
   参数:
  </p>
  <p class="cmdlinebulletCont">
   Float multiply;//此参数可供用户使用。
  </p>
  <p>
   当内核在 BlinkScript 节点内编译时，将为每个内核参数生成控件并添加到
   <b>
    内核参数
   </b>
   标签。在 InvertKernel 的情况下，节点只有一个自定义参数,
   <b>
    乘
   </b>
   .
  </p>
  <p>
   内核参数可以是 C 内置类型，如
   <b>
    浮动
   </b>
   或
   <b>
    Int
   </b>
   。还支持向量和矩阵参数。下表开列了控制类型的内核可以暴露在
   <b>
    内核参数
   </b>
   属性面板中的选项卡。
  </p>
  <table cellspacing="0" class="TableStyle-Master_TableStyle" style="width: 100%;margin-left: auto;margin-right: auto;mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');">
   <col class="TableStyle-Master_TableStyle-Column-Column1" style="width: 131px;"/>
   <col class="TableStyle-Master_TableStyle-Column-Column1"/>
   <thead>
    <tr class="TableStyle-Master_TableStyle-Head-Header1">
     <th class="TableStyle-Master_TableStyle-HeadE-Column1-Header1">
      <p>
       控制类型
      </p>
     </th>
     <th class="TableStyle-Master_TableStyle-HeadD-Column1-Header1">
      <p>
       描述
      </p>
     </th>
    </tr>
   </thead>
   <tbody>
    <tr class="TableStyle-Master_TableStyle-Body-Body1">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
      <p>
       Bool_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
      <p>
       类型参数
       <b>
        布尔
       </b>
       由 Bool_knob 或单个复选框表示。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body2">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
      <p>
       Int_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
      <p>
       类型参数
       <b>
        Int
       </b>
       使用单个数字输入框生成 Int_knob。在输入框中单击鼠标右键将显示一个菜单，允许您设置值的动画。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body1">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
      <p>
       Multitin_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
      <p>
       类型参数
       <b>
        Int2
       </b>
       ,
       <b>
        Int3
       </b>
       ,
       <b>
        Int4
       </b>
       ,或
       <b>
        Int []
       </b>
       生成具有多个数字输入框的 multitin_knob。与 Int_knob 一样，在输入框中单击鼠标右键会显示一个菜单，允许您设置值的动画。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body2">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
      <p>
       Float_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
      <p>
       类型参数
       <b>
        浮动
       </b>
       生成带有数字输入框、线性滑块和动画菜单按钮的 Float_knob。滑块的范围是参数默认值的 0 到两倍，如果没有设置默认值，滑块的范围是 0 到 1。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body1">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
      <p>
       XY_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
      <p>
       具有两个浮点值的参数，类型为 float2 或 float [2]，被解释为 2D 空间中的位置，并在查看器中生成一个带有可调手柄的 XY_knob。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body2">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
      <p>
       XYZ_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
      <p>
       具有三个浮点值的参数，类型为 float3 或 float [3]，被解释为 3D 空间中的位置，并在 3D 查看器中生成带有可调手柄的 XYZ_knob。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body1">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
      <p>
       AColor_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
      <p>
       具有四个浮点值的参数，类型为 float4 或 float [4]，被解释为带有 alpha 的颜色，并生成一个 AColor_knob。这最初显示一个入口框和滑块，一个按钮分割到四个入口框，一个按钮显示
       <span class="CustomProduct">
         Nuke 
       </span>
       色轮和显示当前颜色的样本，并在观察者中使用吸管进行采样。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body2">
     <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
      <p>
       Array_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
      <p>
       具有九个浮点值的参数 (包括 float3x3) 显示为具有 3x3 网格的 Array_knob。具有 16 个浮点值的参数 (包括 float4x4) 显示为具有 4x4 网格的 Array_knob。
      </p>
     </td>
    </tr>
    <tr class="TableStyle-Master_TableStyle-Body-Body1">
     <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
      <p>
       Multiffloat_knob
      </p>
     </td>
     <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
      <p>
       上面没有列出浮点数的参数，如 float [5]，生成一个 MultiFloat_knob，每个值都有一个数字输入框，一个线性滑块, 和一个动画菜单按钮。滑块的范围从 0 到 1。
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   内核的其余部分由您决定，在列于
   <span class="CustomProduct">
     Nuke 
   </span>
   的
   <b>
    帮助
   </b>
   菜单下
   <b>
    文档&gt; 编写闪烁内核指南
   </b>
   或在
   <a href="http://docs.thefoundry.co.uk/nuke/100/BlinkKernels/" target="_blank">
    Http://docs.thefoundry.co.uk/nuke/100/BlinkKernels/
   </a>
   。还有几个示例内核可以让你开始。
  </p>
  <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
   <col/>
   <tbody>
    <tr>
     <td>
      <p>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu">
   <span class="MCDropDownHead dropDownHead">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     本节中的主题
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
   </div>
  </div>
 </body>
 <script type="text/javascript">
  /* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */
 </script>
 <script type="text/javascript">
  /* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */
 </script>
</html>