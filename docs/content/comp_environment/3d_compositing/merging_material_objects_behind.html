<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Compositing with Nuke|3D Compositing|Materials and Textures">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Merging a Material with the Objects Behind</title>
        <link href="../../../skins/default/stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#comp_environment/3d_compositing/merging_material_objects_behind.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h2>Merging a Material with the Objects Behind</h2>
        <p class="afterHead">The <span class="_Override" style="font-weight: bold;">Shader</span> menu’s BlendMat node sets how the pixels colored by the material is applied to combine with the pixels from objects behind. It is like the MergeMat node, but instead of blending with another material, it blends with whatever is rendered behind in the 3D scene.</p>
        <table style="caption-side: top;">
            <col style="width: 50mm;" />
            <col style="width: 50mm;" />
            <tbody>
                <tr>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/merge_materials1.png" />
                        </p>
                    </td>
                    <td>
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/merge_materials2.png" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="caption">
                        <p>Without the BlendMat node.</p>
                    </td>
                    <td class="caption">
                        <p>With the BlendMat node<br />applied to the checkered<br />sphere (that has a<br />checkered alpha channel)<br />and the BlendMat <span class="_Override" style="font-weight: bold;">operation</span> <br />set to <span class="_Override" style="font-weight: bold;">stencil</span>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3>To Merge a Material with the Objects Behind</h3>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>1. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="1. &#160;">Select <b>3D</b> &gt; <b>Shader</b> &gt; <b>BlendMat</b> to add a BlendMat node after the material you want to merge with the background pixels.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>2. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="2. &#160;">Connect the BlendMat node to the <b>img</b> input of the 3D object you want to project the material on.</td>
            </tr>
        </table>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials3.png" />
        </p>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>3. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="3. &#160;">From the <b>channels</b> dropdown menu, select the channels you want to affect.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 25px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_numbered1" valign="top"><span>4. &#160;</span>
                </td>
                <td class="AutoNumber_p_numbered1" valign="top" data-mc-autonum="4. &#160;">From the <b>operation</b> dropdown menu, select how you want to composite the BlendMat node’s input material and the background pixels together:</td>
            </tr>
        </table>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to set the material to black, select <b>none</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials4.png" />
        </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to show the material where the material and the background overlap, select <b>replace</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials5.png" />
        </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to composite the material over the background pixels according to the material’s alpha, select <b>over</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials6.png" />
        </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to show the background pixels where the material’s alpha is black, select <b>stencil</b>. Where the material’s alpha is white, the material is set to black.</p>
        <p class="processBulletCont">For this to work, the BlendMat node needs to process the alpha channel, so set <b>channels</b> to <b>rgba</b>.</p>
        <p class="processBulletCont">This operation is the opposite of <b>mask</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials7.png" />
        </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to show the background pixels where the material’s alpha is white, select <b>mask</b>. Where the material’s alpha is black, the material is also set to black.</p>
        <p class="processBulletCont">For this to work, the BlendMat node needs to process the alpha channel, so set <b>channels</b> to <b>rgba</b>.</p>
        <p class="processBulletCont">This operation is the opposite of <b>stencil</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials8.png" />
        </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to add the background pixels to the material, select <b>plus</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials9.png" />
        </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to use the material if its pixel values are greater than the background pixels or else use the background pixels, select <b>max</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials10.png" />
        </p>
        <p class="processBullet" data-mc-autonum="• "><span class="autonumber"><span>• </span></span>to use the material if its pixel values are less than the background pixels or else use the background pixels, select <b>min</b>.</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/merge_materials11.png" />
        </p>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>