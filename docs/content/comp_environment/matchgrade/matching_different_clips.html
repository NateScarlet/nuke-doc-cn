<!DOCTYPE html>
<html data-mc-help-system-file-name="Default.xml" data-mc-in-preview-mode="false" data-mc-path-to-help-system="../../../" data-mc-preload-images="false" data-mc-runtime-file-type="Topic" data-mc-search-type="Stem" data-mc-target-type="WebHelp2" data-mc-toc-path="Advanced Compositing with NukeX and Nuke Studio|Using MatchGrade" lang="en-us" xml:lang="en-us" xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
 <head>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   在两个不同剪辑之间匹配等级
  </title>
  <link href="../../../skins/default/stylesheets/Slideshow.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet"/>
  <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet"/>
  <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet"/>
  <script src="../../../Resources/Scripts/custom.modernizr.js">
  </script>
  <script src="../../../Resources/Scripts/jquery.min.js">
  </script>
  <script src="../../../Resources/Scripts/require.min.js">
  </script>
  <script src="../../../Resources/Scripts/require.config.js">
  </script>
  <script src="../../../Resources/Scripts/foundation.min.js">
  </script>
  <script src="../../../Resources/Scripts/plugins.min.js">
  </script>
  <script src="../../../Resources/Scripts/MadCapAll.js">
  </script>
  <script src="../../assets/stylesheets/load.js">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop">
   <a href="../../../Default.html#comp_environment/matchgrade/matching_different_clips.html">
    用导航打开主题
   </a>
  </p>
  <script>
   /* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */
  </script>
  <div class="nocontent">
   <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-count="3" data-mc-breadcrumbs-divider=" &gt; " data-mc-toc="True">
    <span class="MCBreadcrumbsPrefix">
     你在这里:
    </span>
   </div>
  </div>
  <h1>
   在两个不同剪辑之间匹配等级
  </h1>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      1。
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="1.  " valign="top">
     选择
     <b>
      颜色
     </b>
     &gt;
     <b>
      MatchGrade
     </b>
     将 MatchGrade 节点插入脚本。
    </td>
   </tr>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      2.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="2.  " valign="top">
     执行以下操作:
    </td>
   </tr>
  </table>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   连接 MatchGrade's
   <b>
    源
   </b>
   输入到要应用颜色变换的剪辑。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   连接
   <b>
    目标
   </b>
   输入到要匹配的剪辑。这应该是一个完全不同的剪辑，一个立体声对
   <b>
    源
   </b>
   剪辑，或
   <b>
    源
   </b>
   以不同的格式剪辑。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   将查看器连接到 MatchGrade 的输出。
  </p>
  <p class="graphic">
   <img src="../../assets/images/ug_images/matchgrade_different_nodes_378x274.png" style="width: 378;height: 274;"/>
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      3.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="3.  " valign="top">
     在 MatchGrade 属性中，设置
     <b>
      任务
     </b>
     到
     <b>
      匹配不同的剪辑
     </b>
     .
    </td>
   </tr>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      4.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="4.  " valign="top">
     设置
     <b>
      输出
     </b>
     到
     <b>
      源
     </b>
     然后
     <b>
      目标
     </b>
     要比较
     <b>
      源
     </b>
     和
     <b>
      目标
     </b>
     图像。
    </td>
   </tr>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      5.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="5.  " valign="top">
     当您在中找到覆盖类似内容的框架时
     <b>
      源
     </b>
     和
     <b>
      目标
     </b>
     剪辑，单击
     <img alt="" src="../../assets/images/ug_images/icon_keys1.png" style="vertical-align: middle;" title=""/>
     旁边的按钮
     <b>
      源
     </b>
     和
     <b>
      目标
     </b>
     将当前帧设置为参考帧。在匹配级别分析中只使用设置为参考帧的帧。
    </td>
   </tr>
  </table>
  <p class="numberedCont">
   例如，如果你想在
   <b>
    源
   </b>
   剪辑具有与草相同的颜色
   <b>
    目标
   </b>
   剪辑，您需要选择草像素的相对数量大致相同的帧。内容越相似，匹配级别就越能够匹配颜色。
  </p>
  <p class="note" data-mc-autonum='&lt;span style="color: Black;" class="mcFormatColor"&gt;NOTE:&lt;/span&gt;  '>
   <span class="autonumber">
    <span>
     <span class="mcFormatColor" style="color: Black;">
      注意:
     </span>
    </span>
   </span>
   您不需要使用相同数量的
   <b>
    源
   </b>
   和
   <b>
    目标
   </b>
   参考框架或设置与两者的参考框架相同的框架。
  </p>
  <p class="numberedCont">
   如有必要，您也可以使用
   <img alt="" src="../../assets/images/ug_images/icon_keys.png" style="vertical-align: middle;" title=""/>
   按钮从参考框架集中删除框架。
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      6.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="6.  " valign="top">
     如果您只想匹配之间的某些元素
     <b>
      源
     </b>
     和
     <b>
      目标
     </b>
     剪辑，提供一个面具在两个
     <b>
      源
     </b>
     和
     <b>
      目标
     </b>
     输入的 alpha 通道和设置
     <b>
      面具
     </b>
     要:
    </td>
   </tr>
  </table>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   <b>
    阿尔法
   </b>
   -使用两个输入的 alpha 通道作为掩模。只有非黑色的区域
   <b>
    源
   </b>
   和
   <b>
    目标
   </b>
   输入的 alpha 通道用于匹配级别分析，并且该级别仅限于匹配级别的非黑色区域
   <b>
    源
   </b>
   阿尔法。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   <b>
    倒阿尔法
   </b>
   -使用两个输入的倒置 alpha 通道作为掩模。只有非白色区域的
   <b>
    源
   </b>
   和
   <b>
    目标
   </b>
   输入的 alpha 通道用于匹配级别分析，并且该级别仅限于匹配级别的非白色区域
   <b>
    源
   </b>
   阿尔法。
  </p>
  <p class="numberedCont">
   如果找不到覆盖大致相同数量相似内容的框架，遮罩也很有用。例如，如果
   <b>
    源
   </b>
   和
   <b>
    目标
   </b>
   输入有不同数量的草和天空，您可以在两个输入中使用 Roto 节点来创建覆盖相同数量的草和天空的蒙版。请记住，如果你这样做，等级只适用于面具指示的区域
   <b>
    源
   </b>
   输入。要将其应用于整个框架，您需要先导出等级。有关更多信息，请参见步骤 12。
  </p>
  <table>
   <col style="width: 7cm;"/>
   <col style="width: 7cm;"/>
   <tbody>
    <tr>
     <td>
      <img src="../../assets/images/ug_images/matchgrade_different_source_378x212.png" style="width: 378;height: 212;"/>
     </td>
     <td>
      <img src="../../assets/images/ug_images/matchgrade_different_target_mask_378x212.png" style="width: 378;height: 212;"/>
     </td>
    </tr>
    <tr>
     <td class="caption">
      的
      <b>
       源
      </b>
      图像。在这种情况下，您可以将此图像设置为完全不透明的 alpha.
     </td>
     <td class="caption">
      。..在上面画一个这样的面具
      <b>
       目标
      </b>
      图像，以确保两个输入覆盖相似的内容。
     </td>
    </tr>
   </tbody>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      7.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="7.  " valign="top">
     设置完参考框架后，使用
     <b>
      变换
     </b>
     下拉菜单选择如何计算等级:
    </td>
   </tr>
  </table>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   <b>
    3D LUT
   </b>
   -将等级计算为 3D 查找表 (LUT)。这允许您将等级导出到
   <b>
    。Csp
   </b>
   格式，您可以与 OCIOFileTransform 节点一起使用。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   <b>
    CDL
   </b>
   -计算等级作为颜色决策列表 (CDL)。这允许您将等级导出到 OCIOCDLTransform 节点。
  </p>
  <p class="note" data-mc-autonum='&lt;span style="color: Black;" class="mcFormatColor"&gt;NOTE:&lt;/span&gt;  '>
   <span class="autonumber">
    <span>
     <span class="mcFormatColor" style="color: Black;">
      注意:
     </span>
    </span>
   </span>
   的
   <b>
    CDL
   </b>
   变换是有限的，不能为所有类型的颜色变换建模。在大多数情况下，选择
   <b>
    3D LUT
   </b>
   给出最好的结果。
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      8。
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="8.  " valign="top">
     设置
     <b>
      输出
     </b>
     回到
     <b>
      匹配
     </b>
     并单击
     <b>
      分析参考框架
     </b>
     .
    </td>
   </tr>
  </table>
  <p class="numberedCont">
   MatchGrade 计算匹配所需的变换
   <b>
    源
   </b>
   图像到
   <b>
    目标
   </b>
   图像。
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      9.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="9.  " valign="top">
     要评估结果，请选择 MatchGrade 节点并按
     <b>
      D
     </b>
     重复切换原来的
     <b>
      源
     </b>
     图像和分级输出。
    </td>
   </tr>
  </table>
  <table>
   <col style="width: 7cm;"/>
   <col style="width: 7cm;"/>
   <tbody>
    <tr>
     <td>
      <img src="../../assets/images/ug_images/matchgrade_different_source_378x212.png" style="width: 378;height: 212;"/>
     </td>
     <td>
      <img src="../../assets/images/ug_images/matchgrade_different_target_378x212.png" style="width: 378;height: 212;"/>
     </td>
    </tr>
    <tr>
     <td class="caption">
      的
      <b>
       源
      </b>
      图像。
     </td>
     <td class="caption">
      的
      <b>
       目标
      </b>
      图像。
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <col style="width: 7cm;"/>
   <tbody>
    <tr>
     <td>
      <img src="../../assets/images/ug_images/matchgrade_different_result_378x212.png" style="width: 378;height: 212;"/>
     </td>
    </tr>
    <tr>
     <td class="caption">
      颜色匹配的结果。
     </td>
    </tr>
   </tbody>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      10.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="10.  " valign="top">
     如果您对结果不满意，请尝试以下一项或多项:
    </td>
   </tr>
  </table>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   寻找更好的参考框架或在
   <b>
    目标
   </b>
   输入以确保两个输入涵盖大致相同数量的相似内容。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   使用
   <b>
    前 LUT
   </b>
   下拉菜单指定用于分析的 1D 整形器 LUT:
   <b>
    线性
   </b>
   或
   <b>
    对数
   </b>
   .
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   增加
   <b>
    LUT 分辨率
   </b>
   价值。这是匹配存储颜色转换的查找表 (LUT) 的分辨率。较高的值可以改善结果，但也会增加处理时间。最大值为 64。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   设置
   <b>
    色彩空间
   </b>
   不同的值。要使用的正确设置取决于转换的性质。尝试每个选项，看看哪个最适合你的镜头。
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   增加
   <b>
    迭代
   </b>
   价值。这决定了细化过程的数量。较高的值可以产生更好的颜色匹配，但也需要更长的时间来处理。
  </p>
  <p class="numberedCont">
   要更新结果，请单击
   <b>
    分析参考框架
   </b>
   再次。
  </p>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      11。
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="11.  " valign="top">
     如果你设置
     <b>
      变换
     </b>
     到
     <b>
      CDL
     </b>
     在步骤 8 中，您可以通过调整手动微调等级
     <b>
      坡度
     </b>
     ,
     <b>
      偏移
     </b>
     ,
     <b>
      权力
     </b>
     ,和
     <b>
      饱和
     </b>
     。的
     <b>
      锁
     </b>
     右侧的控件阻止在单击时重新计算值
     <b>
      重新计算 CDL
     </b>
     ,允许您手动设置一些值，并自动估计其他值。例如，您可以调整和锁定
     <b>
      坡度
     </b>
     和
     <b>
      偏移
     </b>
     然后单击
     <b>
      重新计算 CDL
     </b>
     自动重新计算
     <b>
      权力
     </b>
     和
     <b>
      饱和
     </b>
     .
    </td>
   </tr>
  </table>
  <table cellpadding="0" cellspacing="0" class="AutoNumber_p_numbered1" style="width: 100%; margin-left: 0;">
   <col style="width: 0px;"/>
   <col style="width: 25px;"/>
   <col style="width: auto;"/>
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_numbered1" valign="top">
     <span>
      12.
     </span>
    </td>
    <td class="AutoNumber_p_numbered1" data-mc-autonum="12.  " valign="top">
     如有必要，可以导出计算的坡度并将其应用于脚本中的其他节点。如何做到这一点取决于您选择将等级计算为 3D LUT 还是 CDL:
    </td>
   </tr>
  </table>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   如果你设置
   <b>
    变换
   </b>
   到
   <b>
    3D LUT
   </b>
   ,您可以将 LUT 写入
   <b>
    。Csp
   </b>
   文件并创建一个 OCIOFileTransform 节点，您可以在脚本中的其他位置使用该节点应用相同的等级。为此，请输入文件的路径和名称
   <b>
    。Csp
   </b>
   文件中的
   <b>
    LUT 输出文件
   </b>
   字段并单击
   <b>
    写
   </b>
   导出 LUT。然后，单击
   <b>
    创建 OCIOFileTransform
   </b>
   创建一个 OCIOFileTransform 节点，适用的颜色变换的
   <b>
    。Csp
   </b>
   文件。
  </p>
  <p class="graphic">
   <img src="../../assets/images/ug_images/matchgrade_different_ociofiletransform_378x205.png" style="width: 378;height: 205;"/>
  </p>
  <p class="processBullet" data-mc-autonum="• ">
   <span class="autonumber">
    <span>
     •
    </span>
   </span>
   如果你设置
   <b>
    变换
   </b>
   到
   <b>
    CDL
   </b>
   ,您可以单击
   <b>
    创建 OCIOCDLTransform
   </b>
   创建一个 OCIOCDLTransform 节点，该节点使用
   <b>
    CDL 输出
   </b>
   MatchGrade 属性的部分。
  </p>
  <p class="graphic">
   <img src="../../assets/images/ug_images/matchgrade_different_ociocdltransform_378x205.png" style="width: 378;height: 205;"/>
  </p>
  <p class="tip" data-mc-autonum='&lt;span style="color: Black;" class="mcFormatColor"&gt;TIP:&lt;/span&gt;  '>
   <span class="autonumber">
    <span>
     <span class="mcFormatColor" style="color: Black;">
      提示:
     </span>
    </span>
   </span>
   您也可以通过简单地将新节点连接到 MatchGrade 将等级应用于不同的源
   <b>
    源
   </b>
   输入。
  </p>
  <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
   <col/>
   <tbody>
    <tr>
     <td>
      <p>
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu">
   <span class="MCDropDownHead dropDownHead">
    <a class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage" href="javascript:void(0);">
     <img alt="Closed" class="MCDropDown_Image_Icon" data-mc-alt2="Open" height="13" src="../../../skins/default/stylesheets/Images/transparent.gif" width="16"/>
     本节中的主题
    </a>
   </span>
   <div class="MCDropDownBody dropDownBody">
   </div>
  </div>
 </body>
</html>