<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Compositing with Nuke|Transforming Elements|Transforming in 2D">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Choosing a Filtering Algorithm</title>
        <link href="../../../skins/default/stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../../../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/master_tablestyle.css" rel="stylesheet" />
        <link href="../../assets/stylesheets/nuke_stylesheet.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../assets/stylesheets/load.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../Default.html#comp_environment/transforming_elements/filtering_algorithm_2d.html">Open topic with navigation</a>
        </p>
        <script>/* <![CDATA[ */
			$(document).ready(function(){ 
			$('.dropDownMiniTOCmenu:not(:has([class*="MCMiniTocBox"]))').remove();
			});
		/* ]]> */</script>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <h2><a name="kanchor325"></a>Choosing a Filtering Algorithm</h2>
        <p class="afterHead">Spatial transformations involve remapping pixels from their original positions to new positions. The question arises as to what values to assign remapped pixels. In the simplest case, they retain their original values, but this can create problems with image quality, particularly in high contrast areas of the frame. For example, the figure below shows a close up of a high-contrast feature that has been rotated clockwise by 45 degrees. The remapped pixels have retained their original values, but the result is a highly aliased, or jagged, edge:</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/filtering1.png" />
        </p>
        <p>The solution is to apply a more sophisticated <span class="_Override" style="font-style: italic;">filtering algorithm</span> to determine the values of remapped pixels - one that takes into account, in some fashion, the values of neighboring pixels.</p>
        <p>For example, applying <span class="CustomProduct">Nuke</span>â€™s cubic algorithm to the above rotation, results in a softer, less jagged edge:</p>
        <p class="graphic">
            <img src="../../assets/images/ug_images/filtering2.png" />
        </p>
        <p>When executing spatial transformations, <span class="CustomProduct">Nuke</span> lets you select from the filtering algorithms described in the table below.</p>
        <p>Note that the curves shown in the table plot the manner by which each algorithm samples from neighboring pixels. The center of each curve represents the value of the remapped pixel itself, and the rising and falling portions of each curve represent the amount of sampling that occurs across a five pixel radius.</p>
        <p class="tip" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;TIP:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">TIP:</span> &#160;</span></span>When using filters that employ sharpening, such as <b>Rifman</b> and <b>Lanczos</b>, you may see a haloing effect. Some nodes, such as Transform and Tracker, include a <b>clamp</b> control to correct this problem.</p>
        <table style="mc-table-style: url('../../assets/stylesheets/master_tablestyle.css');caption-side: top;width: 100%;" class="TableStyle-Master_TableStyle" cellspacing="0">
            <col width="60px" class="TableStyle-Master_TableStyle-Column-Column1" />
            <col width="221px" class="TableStyle-Master_TableStyle-Column-Column1" />
            <col width="189px" class="TableStyle-Master_TableStyle-Column-Column1" />
            <thead>
                <tr class="TableStyle-Master_TableStyle-Head-Header1">
                    <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1">
                        <p class="CellHeading">Filter</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-HeadE-Column1-Header1">
                        <p class="CellHeading">Description</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-HeadD-Column1-Header1">
                        <p class="CellHeading">Sampling Curve and Output</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Impulse</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Remapped pixels carry original values.</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/impulse_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Cubic (default)</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Remapped pixels receive some smoothing.</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/cubic_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Keys</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Remapped pixels receive some smoothing, plus minor sharpening (as shown by the negative -y portions of the curve).</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/keys_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Simon</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Remapped pixels receive some smoothing, plus medium sharpening (as shown by the negative -y portions of the curve).</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/simon_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Rifman</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Remapped pixels receive some smoothing, plus significant sharpening (as shown by the negative -y portions of the curve).</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/rifman_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Mitchell</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Remapped pixels receive some smoothing, plus blurring to hide pixelation.</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/mitchell_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Parzen</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Remapped pixels receive the greatest smoothing of all filters.</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/parzen_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Notch</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Remapped pixels receive flat smoothing (which tends to hide <span class="_Override" style="font-style: italic;">moirÃ©</span> patterns).</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/notch_output.png" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Lanczos4</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body1">
                        <p class="CellBody">Remapped pixels receive minor sharpening (as shown by the negative -y portions of the curve), good for scaling down.</p>
                        <p>The filter number at the end of the filter name denotes the width of the filter (4 pixels).</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body1">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/lanczos4_output.png" style="margin-left: 1.000063px;margin-top: 1.205291px;margin-right: 1.000067px;margin-bottom: 2.028458px;" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body2">
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Lanczos6</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyE-Column1-Body2">
                        <p class="CellBody">Remapped pixels receive some sharpening (as shown by the negative -y portions of the curve), good for scaling down.</p>
                        <p class="CellBody">The filter number at the end of the filter name denotes the width of the filter (6 pixels).</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyD-Column1-Body2">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/lanczos6_output.png" alt="" title="" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-Master_TableStyle-Body-Body1">
                    <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                        <p class="CellBody">Sinc4</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyB-Column1-Body1">
                        <p class="CellBody">Remapped pixels receive a lot of sharpening (as shown by the negative -y portions of the curve), good for scaling down.</p>
                        <p class="CellBody">The filter number at the end of the filter name denotes the width of the filter (4 pixels).</p>
                    </td>
                    <td class="TableStyle-Master_TableStyle-BodyA-Column1-Body1">
                        <p class="graphic">
                            <img src="../../assets/images/ug_images/sinc4_output.png" style="margin-left: 1.000063px;margin-top: 1.205291px;margin-right: 1.000067px;margin-bottom: 1.128739px;" />
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span><b>Lanczos</b> and <b>Sinc</b> filters exhibit haloing as the filter becomes sharper.</p>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: Black;&quot; class=&quot;mcFormatColor&quot;&gt;NOTE:&lt;/span&gt; &#160;"><span class="autonumber"><span><span style="color: Black;" class="mcFormatColor">NOTE:</span> &#160;</span></span>The numbers appended to the filter name denote the width of the filter, similar to the naming scheme used by PRMan. See <a href="http://www.renderman.org/RMR/st/PRMan_Filtering/Filtering_In_PRMan.html">http://www.renderman.org/RMR/st/PRMan_Filtering/Filtering_In_PRMan.html</a> for more information. </p>
        <table style="width: 100%;border-bottom-style: solid;border-bottom-width: 1px;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCDropDown MCDropDown_Open dropDown dropDownMiniTOCmenu"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_MiniTOCmenu MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../skins/default/stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Topics In This Section</a></span>
            <div class="MCDropDownBody dropDownBody">
            </div>
        </div>
    </body>
    <script type="text/javascript">/* <![CDATA[ */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-60569477-1', {'cookieDomain': 'none'});
	/* ]]> */</script>
    <script type="text/javascript">/* <![CDATA[ */
		$("document").ready(function ()
		{
		function postMe()
		{
		var cust = document.getElementById("search-field").value;
		console.log(cust);
		ga('send', 'event', "Nuke", "search", cust, 9);
		}
		var submitButton = $(".search-submit");
		submitButton.click(function() { postMe(); return true; } );
		var submit = $("input#search-field");
		submit.keypress(function(e) { if(e.keyCode==13) { postMe(); } return true; } );
		});
	/* ]]> */</script>
</html>